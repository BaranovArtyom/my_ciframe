[2021-03-01T12:59:47.691284+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281984235809800","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":33,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1611985851,"photo":[{"file_id":"AgACAgQAAxkDAAMlYB5_Usd0OmqfVDQ734F7jRsaIeEAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMlYB5_Usd0OmqfVDQ734F7jRsaIeEAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"Glenmorangie Nectar 12YO\n\n–¶–µ–Ω–∞: 270 usd","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_66976"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"page_1-7715"}]]}},"chat_instance":"-2796372921295960540","data":"page_1-7715"},"message":null} []
[2021-03-01T12:59:47.694731+02:00] telegram.DEBUG: get state {"chat_id":209846064} []
[2021-03-01T12:59:47.701404+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T12:59:47.701538+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:id_66976","current_reply":"DESCRIPTION:page_1-7715"} []
[2021-03-01T12:59:49.383796+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281984701366875","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":33,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1611985851,"photo":[{"file_id":"AgACAgQAAxkDAAMlYB5_Usd0OmqfVDQ734F7jRsaIeEAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMlYB5_Usd0OmqfVDQ734F7jRsaIeEAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"Glenmorangie Nectar 12YO\n\n–¶–µ–Ω–∞: 270 usd","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_66976"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"page_1-7715"}]]}},"chat_instance":"-2796372921295960540","data":"menu_btn"},"message":null} []
[2021-03-01T12:59:49.386484+02:00] telegram.DEBUG: get state {"chat_id":209846064} []
[2021-03-01T12:59:49.389170+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T12:59:49.389352+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281984701366875","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":33,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1611985851,"photo":[{"file_id":"AgACAgQAAxkDAAMlYB5_Usd0OmqfVDQ734F7jRsaIeEAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMlYB5_Usd0OmqfVDQ734F7jRsaIeEAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"Glenmorangie Nectar 12YO\n\n–¶–µ–Ω–∞: 270 usd","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_66976"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"page_1-7715"}]]}},"chat_instance":"-2796372921295960540","data":"menu_btn"},"message":null,"user_reply":"menu_btn"} []
[2021-03-01T12:59:49.549539+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:page_1-7715","current_reply":"MENU:menu_btn"} []
[2021-03-01T12:59:53.708244+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281983739248061","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":39,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1614596389,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"Spirits","callback_data":"cmenu_104"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-2796372921295960540","data":"cmenu_104"},"message":null} []
[2021-03-01T12:59:53.711151+02:00] telegram.DEBUG: get state {"chat_id":209846064} []
[2021-03-01T12:59:53.713396+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T12:59:53.713481+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281983739248061","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":39,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1614596389,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"Spirits","callback_data":"cmenu_104"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-2796372921295960540","data":"cmenu_104"},"message":null,"user_reply":"cmenu_104"} []
[2021-03-01T12:59:53.713596+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_104"} []
[2021-03-01T12:59:53.789623+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"7715"} []
[2021-03-01T12:59:53.790008+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":1,"category_id":"7715","product_name":""} []
[2021-03-01T12:59:53.791670+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '7715' ORDER BY `name` DESC LIMIT 20 OFFSET 0"]} []
[2021-03-01T12:59:53.791834+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"66979","ms_id":"2045f39d-1453-11eb-0a80-03ef001cd246","article":null,"ms_code":"00054","barcode":null,"name":"Remy Martin Louis XIII","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/172/91oss3f-qpL._AC_SL1500_.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"8","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:31","updated_at":"2021-01-29 20:58:31"},{"id":"66978","ms_id":"20307bd6-1453-11eb-0a80-03ef001cd22a","article":null,"ms_code":"00048","barcode":null,"name":"Patron XO Caf√©*","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/172/9462879944734.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"13","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:30","updated_at":"2021-01-29 20:58:30"},{"id":"66992","ms_id":"9d840d5e-5d5b-11eb-0a80-08800013b75f","article":null,"ms_code":"00183","barcode":"2000000003733","name":"Oban 14YO","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"9","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:39","updated_at":"2021-01-29 20:58:39"},{"id":"66988","ms_id":"895d353e-1509-11eb-0a80-04f10010b847","article":null,"ms_code":"00056","barcode":"2000000001845","name":"Malibu","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/172/9462874374174.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"20","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:35","updated_at":"2021-01-29 20:58:35"},{"id":"66990","ms_id":"89729b1d-1509-11eb-0a80-04f10010b86c","article":null,"ms_code":"00063","barcode":"2000000001807","name":"Makers Mark","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/172/9335662575646.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"5","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:37","updated_at":"2021-01-29 20:58:37"},{"id":"66982","ms_id":"46a0bd18-5d5b-11eb-0a80-02650013758c","article":null,"ms_code":"00181","barcode":"2000000003702","name":"Macallan Terra","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"3","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:31","updated_at":"2021-01-29 20:58:31"},{"id":"67000","ms_id":"ddbef282-5d5a-11eb-0a80-03920013901a","article":null,"ms_code":"00178","barcode":"2000000003672","name":"Macallan Lumina","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"2","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:45","updated_at":"2021-01-29 20:58:45"},{"id":"66986","ms_id":"6b829655-5d5b-11eb-0a80-09c800159d1f","article":null,"ms_code":"00182","barcode":"2000000003726","name":"Macallan 12 Double Cask","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"30","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:33","updated_at":"2021-01-29 20:58:33"},{"id":"66981","ms_id":"425f95ba-5c84-11eb-0a80-03920003d482","article":null,"ms_code":"00176","barcode":"2000000003641","name":"Jim Beam","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"101","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:31","updated_at":"2021-01-29 20:58:31"},{"id":"66985","ms_id":"571dbb58-2599-11eb-0a80-030b00089278","article":null,"ms_code":"00156","barcode":"2000000003412","name":"Jameson","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/172/9494637215774.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"281","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:33","updated_at":"2021-01-29 20:58:33"},{"id":"66989","ms_id":"896353db-1509-11eb-0a80-04f10010b851","article":null,"ms_code":"00058","barcode":"2000000001814","name":"Jack Daniels Gentleman Jack","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/172/9329172545566.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"64","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:36","updated_at":"2021-01-29 20:58:36"},{"id":"66998","ms_id":"bebe7ce6-13bb-11eb-0a80-05cc0077c646","article":null,"ms_code":"00035","barcode":null,"name":"Jack Daniels Black","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/172/9380895031326.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"2","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:45","updated_at":"2021-01-29 20:58:45"},{"id":"66987","ms_id":"7371d896-2570-11eb-0a80-06480002a0f6","article":null,"ms_code":"00155","barcode":"2000000003405","name":"Glenmorangie Original 10YO","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/172/Glenmorangie 10.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"24","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:34","updated_at":"2021-01-29 20:58:34"},{"id":"66976","ms_id":"09a8ecc1-5d5c-11eb-0a80-026500138892","article":null,"ms_code":"00185","barcode":"2000000003757","name":"Glenmorangie Nectar 12YO","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"26","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:28","updated_at":"2021-01-29 20:58:28"},{"id":"66999","ms_id":"d94a3d30-5d5b-11eb-0a80-073f00156c6d","article":null,"ms_code":"00184","barcode":"2000000003740","name":"Glenmorangie 18YO","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"3","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:45","updated_at":"2021-01-29 20:58:45"},{"id":"66994","ms_id":"b6c92603-13ba-11eb-0a80-05cc00775269","article":null,"ms_code":"00022","barcode":null,"name":"Glenlivet Nadurra Oloroso","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/172/glvob.non10.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"28","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:41","updated_at":"2021-01-29 20:58:41"},{"id":"66983","ms_id":"49a071f7-5c84-11eb-0a80-08800003a269","article":null,"ms_code":"00177","barcode":"2000000003665","name":"Glenlivet Master Distillers Reserve","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"20","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:32","updated_at":"2021-01-29 20:58:32"},{"id":"66980","ms_id":"3479595e-5d5b-11eb-0a80-053800149c84","article":null,"ms_code":"00180","barcode":"2000000003696","name":"Glenfiddich Project XX","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"15","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:31","updated_at":"2021-01-29 20:58:31"},{"id":"67002","ms_id":"f07f2fe2-5d5a-11eb-0a80-026500136f16","article":null,"ms_code":"00179","barcode":"2000000003689","name":"Glenfiddich IPA Exp","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"15","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:46","updated_at":"2021-01-29 20:58:46"},{"id":"66984","ms_id":"505c3718-5ffa-11eb-0a80-09d700008c92","article":null,"ms_code":"00186","barcode":"2000000003764","name":"Glenfarclas 105 Cask Strenght","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"7715","to_telegram":"1","app_info_id":"172","quantity":"60","type":"product","parent_ms_id":null,"created_at":"2021-01-29 20:58:32","updated_at":"2021-01-29 20:58:32"}]} []
[2021-03-01T12:59:53.793943+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":27,"page_num":1} []
[2021-03-01T12:59:53.794252+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"menu_btn_"} []
[2021-03-01T12:59:53.935102+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:menu_btn","current_reply":"MENU:cmenu_104"} []
[2021-03-01T13:00:00.336870+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281982722494622","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":40,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1614596393,"text":"–ö—Ä–µ–ø–∫–∏–µ –Ω–∞–ø–∏—Ç–∫–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó Remy Martin Louis XIII","callback_data":"id_66979"}],[{"text":"üîó Patron XO Caf√©*","callback_data":"id_66978"}],[{"text":"üîó Oban 14YO","callback_data":"id_66992"}],[{"text":"üîó Malibu","callback_data":"id_66988"}],[{"text":"üîó Makers Mark","callback_data":"id_66990"}],[{"text":"üîó Macallan Terra","callback_data":"id_66982"}],[{"text":"üîó Macallan Lumina","callback_data":"id_67000"}],[{"text":"üîó Macallan 12 Double Cask","callback_data":"id_66986"}],[{"text":"üîó Jim Beam","callback_data":"id_66981"}],[{"text":"üîó Jameson","callback_data":"id_66985"}],[{"text":"üîó Jack Daniels Gentleman Jack","callback_data":"id_66989"}],[{"text":"üîó Jack Daniels Black","callback_data":"id_66998"}],[{"text":"üîó Glenmorangie Original 10YO","callback_data":"id_66987"}],[{"text":"üîó Glenmorangie Nectar 12YO","callback_data":"id_66976"}],[{"text":"üîó Glenmorangie 18YO","callback_data":"id_66999"}],[{"text":"üîó Glenlivet Nadurra Oloroso","callback_data":"id_66994"}],[{"text":"üîó Glenlivet Master Distillers Reserve","callback_data":"id_66983"}],[{"text":"üîó Glenfiddich Project XX","callback_data":"id_66980"}],[{"text":"üîó Glenfiddich IPA Exp","callback_data":"id_67002"}],[{"text":"üîó Glenfarclas 105 Cask Strenght","callback_data":"id_66984"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-7715"},{"text":"2","callback_data":"page_2-7715"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-2796372921295960540","data":"id_66992"},"message":null} []
[2021-03-01T13:00:00.339316+02:00] telegram.DEBUG: get state {"chat_id":209846064} []
[2021-03-01T13:00:00.340588+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T13:00:00.340667+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281982722494622","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":40,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1614596393,"text":"–ö—Ä–µ–ø–∫–∏–µ –Ω–∞–ø–∏—Ç–∫–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó Remy Martin Louis XIII","callback_data":"id_66979"}],[{"text":"üîó Patron XO Caf√©*","callback_data":"id_66978"}],[{"text":"üîó Oban 14YO","callback_data":"id_66992"}],[{"text":"üîó Malibu","callback_data":"id_66988"}],[{"text":"üîó Makers Mark","callback_data":"id_66990"}],[{"text":"üîó Macallan Terra","callback_data":"id_66982"}],[{"text":"üîó Macallan Lumina","callback_data":"id_67000"}],[{"text":"üîó Macallan 12 Double Cask","callback_data":"id_66986"}],[{"text":"üîó Jim Beam","callback_data":"id_66981"}],[{"text":"üîó Jameson","callback_data":"id_66985"}],[{"text":"üîó Jack Daniels Gentleman Jack","callback_data":"id_66989"}],[{"text":"üîó Jack Daniels Black","callback_data":"id_66998"}],[{"text":"üîó Glenmorangie Original 10YO","callback_data":"id_66987"}],[{"text":"üîó Glenmorangie Nectar 12YO","callback_data":"id_66976"}],[{"text":"üîó Glenmorangie 18YO","callback_data":"id_66999"}],[{"text":"üîó Glenlivet Nadurra Oloroso","callback_data":"id_66994"}],[{"text":"üîó Glenlivet Master Distillers Reserve","callback_data":"id_66983"}],[{"text":"üîó Glenfiddich Project XX","callback_data":"id_66980"}],[{"text":"üîó Glenfiddich IPA Exp","callback_data":"id_67002"}],[{"text":"üîó Glenfarclas 105 Cask Strenght","callback_data":"id_66984"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-7715"},{"text":"2","callback_data":"page_2-7715"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-2796372921295960540","data":"id_66992"},"message":null,"user_reply":"id_66992"} []
[2021-03-01T13:00:00.506753+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"66992"} []
[2021-03-01T13:00:00.506878+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_104"} []
[2021-03-01T13:00:00.656472+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_104","current_reply":"MENU:id_66992"} []
[2021-03-01T13:00:13.193497+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281983437793402","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":41,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1614596400,"photo":[{"file_id":"AgACAgQAAxkDAAMpYDzJMOONGfOVqNvQ_bAZvp_oDBIAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMpYDzJMOONGfOVqNvQ_bAZvp_oDBIAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"Oban 14YO\n\n–¶–µ–Ω–∞: 264 usd","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_66992"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_104"}]]}},"chat_instance":"-2796372921295960540","data":"add_66992"},"message":null} []
[2021-03-01T13:00:13.197401+02:00] telegram.DEBUG: get state {"chat_id":209846064} []
[2021-03-01T13:00:13.199494+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T13:00:13.199620+02:00] telegram_menu.INFO: Run function createSelectionButtons {"quantity_of_products":1,"product_id":"66992","button_list":[[{"text":"‚ûñ","callback_data":"minus_1_66992"},{"text":"1 —à—Ç.","callback_data":"number_1_66992"},{"text":"‚ûï","callback_data":"plus_1_66992"}],[{"text":"üÜó","callback_data":"ok_1_66992"}]]} []
[2021-03-01T13:00:13.374358+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:id_66992","current_reply":"DESCRIPTION:add_66992"} []
[2021-03-01T13:00:22.366117+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281983857100027","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":41,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1614596400,"photo":[{"file_id":"AgACAgQAAxkDAAMpYDzJMOONGfOVqNvQ_bAZvp_oDBIAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMpYDzJMOONGfOVqNvQ_bAZvp_oDBIAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"Oban 14YO\n\n–¶–µ–Ω–∞: 264 usd","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_66992"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_104"}]]}},"chat_instance":"-2796372921295960540","data":"cart_"},"message":null} []
[2021-03-01T13:00:22.368857+02:00] telegram.DEBUG: get state {"chat_id":209846064} []
[2021-03-01T13:00:22.370154+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"selectionQuantityOfProducts","$user_state":"SELECTION_QUANTITY_OF_PRODUCTS"} []
[2021-03-01T13:00:22.370374+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281983857100027","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":41,"from":{"id":1611843385,"is_bot":true,"first_name":"WBS","username":"chivas21_bot"},"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":1614596400,"photo":[{"file_id":"AgACAgQAAxkDAAMpYDzJMOONGfOVqNvQ_bAZvp_oDBIAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMpYDzJMOONGfOVqNvQ_bAZvp_oDBIAAr-rMRu2T4xS01PUI2GrSeqEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"Oban 14YO\n\n–¶–µ–Ω–∞: 264 usd","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_66992"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_104"}]]}},"chat_instance":"-2796372921295960540","data":"cart_"},"message":null,"user_reply":"cart_"} []
[2021-03-01T13:00:22.413248+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"add_66992"} []
[2021-03-01T13:00:22.413473+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"add_66992"}]]} []
[2021-03-01T13:00:22.537659+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:add_66992","current_reply":"SELECTION_QUANTITY_OF_PRODUCTS:cart_"} []
[2021-03-01T13:00:32.973466+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281985656438254","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":41,"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":0},"chat_instance":"-2796372921295960540","data":"cart_"},"message":null} []
[2021-03-01T13:00:32.975442+02:00] telegram.DEBUG: get state {"chat_id":209846064} []
[2021-03-01T13:00:32.977402+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleCart","$user_state":"CART"} []
[2021-03-01T13:00:32.977494+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"6897b209-0df9-11eb-0a80-0643000056b7"},"chat_id":209846064,"callback_query":{"id":"901281985656438254","from":{"id":209846064,"is_bot":false,"first_name":"Dmitry","language_code":"ru"},"message":{"message_id":41,"chat":{"id":209846064,"first_name":"Dmitry","type":"private"},"date":0},"chat_instance":"-2796372921295960540","data":"cart_"},"message":null,"user_reply":"cart_"} []
[2021-03-01T13:00:33.021243+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cart_"} []
[2021-03-01T13:00:33.021325+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cart_"}]]} []
[2021-03-01T13:00:33.085729+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"SELECTION_QUANTITY_OF_PRODUCTS:cart_","current_reply":"CART:cart_"} []
[2021-03-01T14:59:52.283423+02:00] telegram.DEBUG: Url hook {"$page_url":"https://i.spey.ru/saas/shopbot_prod/run/telegram/telegramBot.php?msacc_id=d478f7fd-b74f-11e8-9109-f8fc000025fb","$_SERVER[\"REQUEST_URI\"]":"/saas/shopbot_prod/index.php?task=activateBot&contextKey=1f24aedb1722b39a815b55fbb44c4a302ab3c31c&accid=d478f7fd-b74f-11e8-9109-f8fc000025fb","$_SERVER[\"SERVER_NAME\"]":"i.spey.ru"} []
[2021-03-01T14:59:54.017484+02:00] telegram.INFO: Run function handleUserReply {"GET":{"task":"activateBot","contextKey":"1f24aedb1722b39a815b55fbb44c4a302ab3c31c","accid":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":null,"callback_query":null,"message":null} []
[2021-03-01T14:59:54.272075+02:00] telegram.DEBUG: Get prices, cur and other {"multi_response":["[ {\n  \"meta\" : {\n    \"href\" : \"https://online.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/d4ab2137-b74f-11e8-9107-504800071ba8\",\n    \"type\" : \"pricetype\",\n    \"mediaType\" : \"application/json\"\n  },\n  \"id\" : \"d4ab2137-b74f-11e8-9107-504800071ba8\",\n  \"name\" : \"–†–æ–∑–Ω–∏—á–Ω–∞—è —Ü–µ–Ω–∞\",\n  \"externalCode\" : \"cbcf493b-55bc-11d9-848a-00112f43529a\"\n}, {\n  \"meta\" : {\n    \"href\" : \"https://online.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/cdb2fc8b-3cbb-11e9-9ff4-3150000ad591\",\n    \"type\" : \"pricetype\",\n    \"mediaType\" : \"application/json\"\n  },\n  \"id\" : \"cdb2fc8b-3cbb-11e9-9ff4-3150000ad591\",\n  \"name\" : \"–•–æ—Ä–µ–∫–∞\",\n  \"externalCode\" : \"0cd522f0-bd67-45d9-afbe-5f05b089d001\"\n}, {\n  \"meta\" : {\n    \"href\" : \"https://online.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/f290a76d-7e13-11e9-9107-504800100904\",\n    \"type\" : \"pricetype\",\n    \"mediaType\" : \"application/json\"\n  },\n  \"id\" : \"f290a76d-7e13-11e9-9107-504800100904\",\n  \"name\" : \"–ö—Ä—É–ø–Ω—ã–π –æ–ø—Ç\",\n  \"externalCode\" : \"869d3aa5-9682-499d-9c77-160c087dd861\"\n}, {\n  \"meta\" : {\n    \"href\" : \"https://online.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/dac3886c-3cbb-11e9-9107-5048000b3333\",\n    \"type\" : \"pricetype\",\n    \"mediaType\" : \"application/json\"\n  },\n  \"id\" : \"dac3886c-3cbb-11e9-9107-5048000b3333\",\n  \"name\" : \"–ó–∞–≤–µ–¥–µ–Ω–∏–µ HT\",\n  \"externalCode\" : \"ef5915f1-b01b-4cc9-b47a-b1b07f37c98d\"\n}, {\n  \"meta\" : {\n    \"href\" : \"https://online.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/2dd47391-112a-11ea-0a80-0534000b5b69\",\n    \"type\" : \"pricetype\",\n    \"mediaType\" : \"application/json\"\n  },\n  \"id\" : \"2dd47391-112a-11ea-0a80-0534000b5b69\",\n  \"name\" : \"–ú–∞–≥–∞–∑–∏–Ω HT\",\n  \"externalCode\" : \"55c9109b-d757-4f4a-be0a-f2c2af0a08d8\"\n} ]","{\n  \"context\" : {\n    \"employee\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/context/application\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/application/metadata\",\n        \"type\" : \"application\",\n        \"mediaType\" : \"application/json\"\n      }\n    }\n  },\n  \"meta\" : {\n    \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/currency/\",\n    \"type\" : \"currency\",\n    \"mediaType\" : \"application/json\",\n    \"size\" : 2,\n    \"limit\" : 1000,\n    \"offset\" : 0\n  },\n  \"rows\" : [ {\n    \"meta\" : {\n      \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/currency/735b577a-b80e-11e8-9109-f8fc00118ec6\",\n      \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/currency/metadata\",\n      \"type\" : \"currency\",\n      \"mediaType\" : \"application/json\",\n      \"uuidHref\" : \"https://online.moysklad.ru/app/#currency/edit?id=735b577a-b80e-11e8-9109-f8fc00118ec6\"\n    },\n    \"id\" : \"735b577a-b80e-11e8-9109-f8fc00118ec6\",\n    \"system\" : true,\n    \"name\" : \"–µ–≤—Ä–æ\",\n    \"fullName\" : \"–ï–≤—Ä–æ\",\n    \"rate\" : 93.0855,\n    \"multiplicity\" : 1,\n    \"indirect\" : false,\n    \"rateUpdateType\" : \"auto\",\n    \"code\" : \"978\",\n    \"isoCode\" : \"EUR\",\n    \"majorUnit\" : {\n      \"gender\" : \"masculine\",\n      \"s1\" : \"–µ–≤—Ä–æ\",\n      \"s2\" : \"–µ–≤—Ä–æ\",\n      \"s5\" : \"–µ–≤—Ä–æ\"\n    },\n    \"minorUnit\" : {\n      \"gender\" : \"masculine\",\n      \"s1\" : \"—Ü–µ–Ω—Ç\",\n      \"s2\" : \"—Ü–µ–Ω—Ç–∞\",\n      \"s5\" : \"—Ü–µ–Ω—Ç–æ–≤\"\n    },\n    \"archived\" : false,\n    \"default\" : false\n  }, {\n    \"meta\" : {\n      \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/currency/d4a8747d-b74f-11e8-9107-504800071ba7\",\n      \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/currency/metadata\",\n      \"type\" : \"currency\",\n      \"mediaType\" : \"application/json\",\n      \"uuidHref\" : \"https://online.moysklad.ru/app/#currency/edit?id=d4a8747d-b74f-11e8-9107-504800071ba7\"\n    },\n    \"id\" : \"d4a8747d-b74f-11e8-9107-504800071ba7\",\n    \"system\" : true,\n    \"name\" : \"—Ä—É–±\",\n    \"fullName\" : \"–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å\",\n    \"rate\" : 1.0,\n    \"multiplicity\" : 1,\n    \"indirect\" : false,\n    \"rateUpdateType\" : \"manual\",\n    \"code\" : \"643\",\n    \"isoCode\" : \"RUB\",\n    \"majorUnit\" : {\n      \"gender\" : \"masculine\",\n      \"s1\" : \"—Ä—É–±–ª—å\",\n      \"s2\" : \"—Ä—É–±–ª—è\",\n      \"s5\" : \"—Ä—É–±–ª–µ–π\"\n    },\n    \"minorUnit\" : {\n      \"gender\" : \"feminine\",\n      \"s1\" : \"–∫–æ–ø–µ–π–∫–∞\",\n      \"s2\" : \"–∫–æ–ø–µ–π–∫–∏\",\n      \"s5\" : \"–∫–æ–ø–µ–µ–∫\"\n    },\n    \"archived\" : false,\n    \"default\" : true\n  } ]\n}","{\n  \"context\" : {\n    \"employee\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/context/application\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/application/metadata\",\n        \"type\" : \"application\",\n        \"mediaType\" : \"application/json\"\n      }\n    }\n  },\n  \"meta\" : {\n    \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/\",\n    \"type\" : \"organization\",\n    \"mediaType\" : \"application/json\",\n    \"size\" : 3,\n    \"limit\" : 1000,\n    \"offset\" : 0\n  },\n  \"rows\" : [ {\n    \"meta\" : {\n      \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/437939d9-c9ce-11ea-0a80-01a00029962f\",\n      \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/metadata\",\n      \"type\" : \"organization\",\n      \"mediaType\" : \"application/json\",\n      \"uuidHref\" : \"https://online.moysklad.ru/app/#mycompany/edit?id=437939d9-c9ce-11ea-0a80-01a00029962f\"\n    },\n    \"id\" : \"437939d9-c9ce-11ea-0a80-01a00029962f\",\n    \"accountId\" : \"d478f7fd-b74f-11e8-9109-f8fc000025fb\",\n    \"owner\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/d493ecf5-b74f-11e8-9107-504800071b78\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/metadata\",\n        \"type\" : \"employee\",\n        \"mediaType\" : \"application/json\",\n        \"uuidHref\" : \"https://online.moysklad.ru/app/#employee/edit?id=d493ecf5-b74f-11e8-9107-504800071b78\"\n      }\n    },\n    \"shared\" : true,\n    \"group\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/d4794116-b74f-11e8-9109-f8fc000025fc\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/metadata\",\n        \"type\" : \"group\",\n        \"mediaType\" : \"application/json\"\n      }\n    },\n    \"updated\" : \"2020-08-06 14:03:23.376\",\n    \"name\" : \"–ò–ü –õ–∞–∑–∞—Ä—è–Ω –ê–π–∫ –ê—Ä–º–µ–Ω–æ–≤–∏—á\",\n    \"externalCode\" : \"-YXHCkoDjawLhY52DMGko0\",\n    \"archived\" : false,\n    \"created\" : \"2020-07-19 17:43:51.972\",\n    \"companyType\" : \"entrepreneur\",\n    \"legalTitle\" : \"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å –õ–∞–∑–∞—Ä—è–Ω –ê–π–∫ –ê—Ä–º–µ–Ω–æ–≤–∏—á\",\n    \"legalAddress\" : \"141100, –†–æ—Å—Å–∏—è, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª, –©–µ–ª–∫–æ–≤—Å–∫–∏–π —Ä-–Ω, –≥ –©–µ–ª–∫–æ–≤–æ\",\n    \"legalAddressFull\" : {\n      \"postalCode\" : \"141100\",\n      \"country\" : {\n        \"meta\" : {\n          \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608\",\n          \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/country/metadata\",\n          \"type\" : \"country\",\n          \"mediaType\" : \"application/json\",\n          \"uuidHref\" : \"https://online.moysklad.ru/app/#country/edit?id=9df7c2c3-7782-4c5c-a8ed-1102af611608\"\n        }\n      },\n      \"region\" : {\n        \"meta\" : {\n          \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000050\",\n          \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/region/metadata\",\n          \"type\" : \"region\",\n          \"mediaType\" : \"application/json\"\n        }\n      },\n      \"city\" : \"–©–µ–ª–∫–æ–≤—Å–∫–∏–π —Ä-–Ω, –≥ –©–µ–ª–∫–æ–≤–æ\"\n    },\n    \"inn\" : \"505021330605\",\n    \"okpo\" : \"2000581587\",\n    \"ogrnip\" : \"319508100327282\",\n    \"legalLastName\" : \"–õ–∞–∑–∞—Ä—è–Ω\",\n    \"legalFirstName\" : \"–ê–π–∫\",\n    \"legalMiddleName\" : \"–ê—Ä–º–µ–Ω–æ–≤–∏—á\",\n    \"accounts\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/437939d9-c9ce-11ea-0a80-01a00029962f/accounts\",\n        \"type\" : \"account\",\n        \"mediaType\" : \"application/json\",\n        \"size\" : 0,\n        \"limit\" : 1000,\n        \"offset\" : 0\n      }\n    },\n    \"isEgaisEnable\" : false,\n    \"payerVat\" : false,\n    \"directorPosition\" : \"–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –∏–Ω–æ–µ —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ\"\n  }, {\n    \"meta\" : {\n      \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/c70c64ba-b0f2-11ea-0a80-0739000038bd\",\n      \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/metadata\",\n      \"type\" : \"organization\",\n      \"mediaType\" : \"application/json\",\n      \"uuidHref\" : \"https://online.moysklad.ru/app/#mycompany/edit?id=c70c64ba-b0f2-11ea-0a80-0739000038bd\"\n    },\n    \"id\" : \"c70c64ba-b0f2-11ea-0a80-0739000038bd\",\n    \"accountId\" : \"d478f7fd-b74f-11e8-9109-f8fc000025fb\",\n    \"owner\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/d493ecf5-b74f-11e8-9107-504800071b78\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/metadata\",\n        \"type\" : \"employee\",\n        \"mediaType\" : \"application/json\",\n        \"uuidHref\" : \"https://online.moysklad.ru/app/#employee/edit?id=d493ecf5-b74f-11e8-9107-504800071b78\"\n      }\n    },\n    \"shared\" : true,\n    \"group\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/d4794116-b74f-11e8-9109-f8fc000025fc\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/metadata\",\n        \"type\" : \"group\",\n        \"mediaType\" : \"application/json\"\n      }\n    },\n    \"updated\" : \"2020-08-06 14:03:27.979\",\n    \"name\" : \"–ò–ü –†—É—Å–∞–∫–æ–≤ –ù–∏–∫–æ–ª–∞–π –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–∏—á\",\n    \"externalCode\" : \"OOi0q7kvi3lrsAffzFpjJ2\",\n    \"archived\" : false,\n    \"created\" : \"2020-06-18 02:32:15.623\",\n    \"companyType\" : \"entrepreneur\",\n    \"legalTitle\" : \"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å –†—É—Å–∞–∫–æ–≤ –ù–∏–∫–æ–ª–∞–π –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–∏—á\",\n    \"legalAddress\" : \"141170, –†–æ—Å—Å–∏—è, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª, –≥ –©—ë–ª–∫–æ–≤–æ, —Ä–ø –ú–æ–Ω–∏–Ω–æ\",\n    \"legalAddressFull\" : {\n      \"postalCode\" : \"141170\",\n      \"country\" : {\n        \"meta\" : {\n          \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608\",\n          \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/country/metadata\",\n          \"type\" : \"country\",\n          \"mediaType\" : \"application/json\",\n          \"uuidHref\" : \"https://online.moysklad.ru/app/#country/edit?id=9df7c2c3-7782-4c5c-a8ed-1102af611608\"\n        }\n      },\n      \"region\" : {\n        \"meta\" : {\n          \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000050\",\n          \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/region/metadata\",\n          \"type\" : \"region\",\n          \"mediaType\" : \"application/json\"\n        }\n      },\n      \"city\" : \"–≥ –©—ë–ª–∫–æ–≤–æ, —Ä–ø –ú–æ–Ω–∏–Ω–æ\"\n    },\n    \"inn\" : \"505020785173\",\n    \"okpo\" : \"0197754074\",\n    \"ogrnip\" : \"320508100173333\",\n    \"legalLastName\" : \"–†—É—Å–∞–∫–æ–≤\",\n    \"legalFirstName\" : \"–ù–∏–∫–æ–ª–∞–π\",\n    \"legalMiddleName\" : \"–í–ª–∞–¥–∏–º–∏—Ä–æ–≤–∏—á\",\n    \"accounts\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/c70c64ba-b0f2-11ea-0a80-0739000038bd/accounts\",\n        \"type\" : \"account\",\n        \"mediaType\" : \"application/json\",\n        \"size\" : 0,\n        \"limit\" : 1000,\n        \"offset\" : 0\n      }\n    },\n    \"isEgaisEnable\" : false,\n    \"payerVat\" : false,\n    \"directorPosition\" : \"–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –∏–Ω–æ–µ —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ\"\n  }, {\n    \"meta\" : {\n      \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/d4a6e49f-b74f-11e8-9107-504800071ba0\",\n      \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/metadata\",\n      \"type\" : \"organization\",\n      \"mediaType\" : \"application/json\",\n      \"uuidHref\" : \"https://online.moysklad.ru/app/#mycompany/edit?id=d4a6e49f-b74f-11e8-9107-504800071ba0\"\n    },\n    \"id\" : \"d4a6e49f-b74f-11e8-9107-504800071ba0\",\n    \"accountId\" : \"d478f7fd-b74f-11e8-9109-f8fc000025fb\",\n    \"owner\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/d493ecf5-b74f-11e8-9107-504800071b78\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/metadata\",\n        \"type\" : \"employee\",\n        \"mediaType\" : \"application/json\",\n        \"uuidHref\" : \"https://online.moysklad.ru/app/#employee/edit?id=d493ecf5-b74f-11e8-9107-504800071b78\"\n      }\n    },\n    \"shared\" : true,\n    \"group\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/d4794116-b74f-11e8-9109-f8fc000025fc\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/metadata\",\n        \"type\" : \"group\",\n        \"mediaType\" : \"application/json\"\n      }\n    },\n    \"updated\" : \"2020-10-30 15:45:06.842\",\n    \"name\" : \"–ò–ü –ü–µ–ª–µ–ø–µ—Ü –ê–Ω—Ç–æ–Ω –î–º–∏—Ç—Ä–∏–µ–≤–∏—á\",\n    \"externalCode\" : \"y5dk2aPSgVcSw1jms4Jvj0\",\n    \"archived\" : false,\n    \"created\" : \"2018-09-13 15:23:33.170\",\n    \"companyType\" : \"entrepreneur\",\n    \"legalTitle\" : \"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å –ü–µ–ª–µ–ø–µ—Ü –ê–Ω—Ç–æ–Ω –î–º–∏—Ç—Ä–∏–µ–≤–∏—á\",\n    \"legalAddress\" : \"141100, –†–æ—Å—Å–∏—è, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª, –≥ –©—ë–ª–∫–æ–≤–æ, –∫–≤-–ª –í–∞—Ä–µ–∂–∫–∏-3, —É–ª –Ø–Ω—Ç–∞—Ä–Ω–∞—è, 2\",\n    \"legalAddressFull\" : {\n      \"postalCode\" : \"141100\",\n      \"country\" : {\n        \"meta\" : {\n          \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608\",\n          \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/country/metadata\",\n          \"type\" : \"country\",\n          \"mediaType\" : \"application/json\",\n          \"uuidHref\" : \"https://online.moysklad.ru/app/#country/edit?id=9df7c2c3-7782-4c5c-a8ed-1102af611608\"\n        }\n      },\n      \"region\" : {\n        \"meta\" : {\n          \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000050\",\n          \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/region/metadata\",\n          \"type\" : \"region\",\n          \"mediaType\" : \"application/json\"\n        }\n      },\n      \"city\" : \"–≥ –©—ë–ª–∫–æ–≤–æ, –∫–≤-–ª –í–∞—Ä–µ–∂–∫–∏-3\",\n      \"street\" : \"—É–ª –Ø–Ω—Ç–∞—Ä–Ω–∞—è\",\n      \"house\" : \"2\"\n    },\n    \"actualAddress\" : \"141170, –†–æ—Å—Å–∏—è, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª, –ú–æ–Ω–∏–Ω–æ, –ê–ª–∫—Å–Ω–∏—Å–∞, 30, 26\",\n    \"actualAddressFull\" : {\n      \"postalCode\" : \"141170\",\n      \"country\" : {\n        \"meta\" : {\n          \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608\",\n          \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/country/metadata\",\n          \"type\" : \"country\",\n          \"mediaType\" : \"application/json\",\n          \"uuidHref\" : \"https://online.moysklad.ru/app/#country/edit?id=9df7c2c3-7782-4c5c-a8ed-1102af611608\"\n        }\n      },\n      \"region\" : {\n        \"meta\" : {\n          \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000050\",\n          \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/region/metadata\",\n          \"type\" : \"region\",\n          \"mediaType\" : \"application/json\"\n        }\n      },\n      \"city\" : \"–ú–æ–Ω–∏–Ω–æ\",\n      \"street\" : \"–ê–ª–∫—Å–Ω–∏—Å–∞\",\n      \"house\" : \"30\",\n      \"apartment\" : \"26\"\n    },\n    \"inn\" : \"505011448164\",\n    \"okpo\" : \"0200063294\",\n    \"ogrnip\" : \"315505000009616\",\n    \"legalLastName\" : \"–ü–µ–ª–µ–ø–µ—Ü\",\n    \"legalFirstName\" : \"–ê–Ω—Ç–æ–Ω\",\n    \"legalMiddleName\" : \"–î–º–∏—Ç—Ä–∏–µ–≤–∏—á\",\n    \"email\" : \"rusakov@hookahtimeshop.com\",\n    \"phone\" : \"+7(936)000-03-03\",\n    \"accounts\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/organization/d4a6e49f-b74f-11e8-9107-504800071ba0/accounts\",\n        \"type\" : \"account\",\n        \"mediaType\" : \"application/json\",\n        \"size\" : 2,\n        \"limit\" : 1000,\n        \"offset\" : 0\n      }\n    },\n    \"isEgaisEnable\" : false,\n    \"payerVat\" : false,\n    \"director\" : \"–ü–µ–ª–µ–ø–µ—Ü –ê–Ω—Ç–æ–Ω –î–º–∏—Ç—Ä–∏–µ–≤–∏—á\",\n    \"directorPosition\" : \"–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –∏–Ω–æ–µ —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ\",\n    \"chiefAccountant\" : \"–ü–µ–ª–µ–ø–µ—Ü –ê–Ω—Ç–æ–Ω –î–º–∏—Ç—Ä–∏–µ–≤–∏—á\"\n  } ]\n}","{\n  \"context\" : {\n    \"employee\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/context/application\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/application/metadata\",\n        \"type\" : \"application\",\n        \"mediaType\" : \"application/json\"\n      }\n    }\n  },\n  \"meta\" : {\n    \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/store\",\n    \"type\" : \"store\",\n    \"mediaType\" : \"application/json\",\n    \"size\" : 3,\n    \"limit\" : 1000,\n    \"offset\" : 0\n  },\n  \"rows\" : [ {\n    \"meta\" : {\n      \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/store/15658f67-c9ce-11ea-0a80-019f0027ba32\",\n      \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/store/metadata\",\n      \"type\" : \"store\",\n      \"mediaType\" : \"application/json\",\n      \"uuidHref\" : \"https://online.moysklad.ru/app/#warehouse/edit?id=15658f67-c9ce-11ea-0a80-019f0027ba32\"\n    },\n    \"id\" : \"15658f67-c9ce-11ea-0a80-019f0027ba32\",\n    \"accountId\" : \"d478f7fd-b74f-11e8-9109-f8fc000025fb\",\n    \"owner\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/d493ecf5-b74f-11e8-9107-504800071b78\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/metadata\",\n        \"type\" : \"employee\",\n        \"mediaType\" : \"application/json\",\n        \"uuidHref\" : \"https://online.moysklad.ru/app/#employee/edit?id=d493ecf5-b74f-11e8-9107-504800071b78\"\n      }\n    },\n    \"shared\" : false,\n    \"group\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/d4794116-b74f-11e8-9109-f8fc000025fc\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/metadata\",\n        \"type\" : \"group\",\n        \"mediaType\" : \"application/json\"\n      }\n    },\n    \"updated\" : \"2020-07-19 17:42:34.672\",\n    \"name\" : \"–©–µ–ª–∫–æ–≤–æ\",\n    \"externalCode\" : \"f9ThIpE3h5z0R4hgM9eIj0\",\n    \"archived\" : false,\n    \"pathName\" : \"\",\n    \"address\" : \"\"\n  }, {\n    \"meta\" : {\n      \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/store/989bc04c-9b1e-11e9-912f-f3d400070d6b\",\n      \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/store/metadata\",\n      \"type\" : \"store\",\n      \"mediaType\" : \"application/json\",\n      \"uuidHref\" : \"https://online.moysklad.ru/app/#warehouse/edit?id=989bc04c-9b1e-11e9-912f-f3d400070d6b\"\n    },\n    \"id\" : \"989bc04c-9b1e-11e9-912f-f3d400070d6b\",\n    \"accountId\" : \"d478f7fd-b74f-11e8-9109-f8fc000025fb\",\n    \"owner\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/d493ecf5-b74f-11e8-9107-504800071b78\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/metadata\",\n        \"type\" : \"employee\",\n        \"mediaType\" : \"application/json\",\n        \"uuidHref\" : \"https://online.moysklad.ru/app/#employee/edit?id=d493ecf5-b74f-11e8-9107-504800071b78\"\n      }\n    },\n    \"shared\" : false,\n    \"group\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/d4794116-b74f-11e8-9109-f8fc000025fc\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/metadata\",\n        \"type\" : \"group\",\n        \"mediaType\" : \"application/json\"\n      }\n    },\n    \"updated\" : \"2019-08-30 15:45:52.291\",\n    \"name\" : \"–ö—Ä–∞—Å–Ω–æ—Å–µ–ª—å—Å–∫–∞—è\",\n    \"externalCode\" : \"ww11pm-RjISP8EEmcvaI10\",\n    \"archived\" : false,\n    \"pathName\" : \"\",\n    \"address\" : \"\"\n  }, {\n    \"meta\" : {\n      \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/store/d4a849b3-b74f-11e8-9107-504800071ba2\",\n      \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/store/metadata\",\n      \"type\" : \"store\",\n      \"mediaType\" : \"application/json\",\n      \"uuidHref\" : \"https://online.moysklad.ru/app/#warehouse/edit?id=d4a849b3-b74f-11e8-9107-504800071ba2\"\n    },\n    \"id\" : \"d4a849b3-b74f-11e8-9107-504800071ba2\",\n    \"accountId\" : \"d478f7fd-b74f-11e8-9109-f8fc000025fb\",\n    \"owner\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/d493ecf5-b74f-11e8-9107-504800071b78\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/employee/metadata\",\n        \"type\" : \"employee\",\n        \"mediaType\" : \"application/json\",\n        \"uuidHref\" : \"https://online.moysklad.ru/app/#employee/edit?id=d493ecf5-b74f-11e8-9107-504800071b78\"\n      }\n    },\n    \"shared\" : false,\n    \"group\" : {\n      \"meta\" : {\n        \"href\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/d4794116-b74f-11e8-9109-f8fc000025fc\",\n        \"metadataHref\" : \"https://online.moysklad.ru/api/remap/1.2/entity/group/metadata\",\n        \"type\" : \"group\",\n        \"mediaType\" : \"application/json\"\n      }\n    },\n    \"updated\" : \"2020-05-13 14:21:30.203\",\n    \"name\" : \"–ü—Ä–∞–≤–¥—ã\",\n    \"externalCode\" : \"44jwJkNSgO5fJXDASkYVn1\",\n    \"archived\" : false,\n    \"pathName\" : \"\",\n    \"address\" : \"\"\n  } ]\n}"]} []
[2021-03-01T15:04:15.103437+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start"} []
[2021-03-01T15:04:15.105117+02:00] telegram.DEBUG: Run function createUser {"ch_id":342495217,"app_info_id":"235"} []
[2021-03-01T15:04:15.106489+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"users","data":{"id":"603ce64f19fd79.10100029","chat_id":342495217,"state":"MENU","app_info_id":"235"},"where":{"chat_id":342495217,"app_info_id":"235"}} []
[2021-03-01T15:04:15.110024+02:00] telegram.ERROR: Create user failed {"dbError":["00000",null,null],"dbLog":["INSERT INTO `users` (`id`, `chat_id`, `state`, `app_info_id`) VALUES ('603ce64f19fd79.10100029', 342495217, 'MENU', '235')"]} []
[2021-03-01T15:04:15.112587+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"cart","data":{"id":"603ce64f1b7b97.80543113","user":"603ce64f19fd79.10100029"},"where":{"user":"603ce64f19fd79.10100029"}} []
[2021-03-01T15:04:15.117862+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:04:15.118037+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start","user_reply":"/start"} []
[2021-03-01T15:04:15.253773+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":null,"current_reply":"MENU:/start"} []
[2021-03-01T15:06:08.011424+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start"} []
[2021-03-01T15:06:08.013429+02:00] telegram.DEBUG: Run function createUser {"ch_id":342495217,"app_info_id":"235"} []
[2021-03-01T15:06:08.015703+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"cart","data":{"id":"603ce6c003d2a6.49729514","user":"603ce64f19fd79.10100029"},"where":{"user":"603ce64f19fd79.10100029"}} []
[2021-03-01T15:06:08.023045+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:06:08.023156+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start","user_reply":"/start"} []
[2021-03-01T15:06:08.195103+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":null,"current_reply":"MENU:/start"} []
[2021-03-01T15:06:10.913007+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757561612208","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":5,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614603968,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null} []
[2021-03-01T15:06:10.919074+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:06:10.922435+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:06:10.922592+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757561612208","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":5,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614603968,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null,"user_reply":"cmenu_327"} []
[2021-03-01T15:06:10.923002+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_327"} []
[2021-03-01T15:06:11.094918+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"start_"} []
[2021-03-01T15:06:11.291570+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:/start","current_reply":"MENU:cmenu_327"} []
[2021-03-01T15:07:14.185486+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758387913373","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":6,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614603971,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"start_"},"message":null} []
[2021-03-01T15:07:14.188094+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:07:14.189966+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:07:14.190058+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758387913373","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":6,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614603971,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"start_"},"message":null,"user_reply":"start_"} []
[2021-03-01T15:07:14.423328+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_327","current_reply":"MENU:start_"} []
[2021-03-01T15:07:16.455995+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758387845477","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":7,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604034,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null} []
[2021-03-01T15:07:16.458546+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:07:16.460617+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:07:16.460709+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758387845477","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":7,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604034,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null,"user_reply":"cmenu_327"} []
[2021-03-01T15:07:16.460883+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_327"} []
[2021-03-01T15:07:16.586289+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"start__"} []
[2021-03-01T15:07:16.779512+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:start_","current_reply":"MENU:cmenu_327"} []
[2021-03-01T15:07:20.169531+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757813254679","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":8,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604036,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞","callback_data":"cmenu_328"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start__"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_328"},"message":null} []
[2021-03-01T15:07:20.172340+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:07:20.174193+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:07:20.174302+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757813254679","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":8,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604036,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞","callback_data":"cmenu_328"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start__"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_328"},"message":null,"user_reply":"cmenu_328"} []
[2021-03-01T15:07:20.174447+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_328"} []
[2021-03-01T15:07:20.336549+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_327_"} []
[2021-03-01T15:07:20.584040+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_327","current_reply":"MENU:cmenu_328"} []
[2021-03-01T15:09:41.912989+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759757280817","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":9,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604040,"text":"–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞","entities":[{"offset":0,"length":11,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null} []
[2021-03-01T15:09:41.916339+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:09:41.918975+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:09:41.919105+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759757280817","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":9,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604040,"text":"–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞","entities":[{"offset":0,"length":11,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null,"user_reply":"menu_btn"} []
[2021-03-01T15:09:42.103615+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_328","current_reply":"MENU:menu_btn"} []
[2021-03-01T15:09:43.253610+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756651816415","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":10,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604182,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null} []
[2021-03-01T15:09:43.255785+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:09:43.257900+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:09:43.258020+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756651816415","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":10,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604182,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null,"user_reply":"cmenu_327"} []
[2021-03-01T15:09:43.258232+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_327"} []
[2021-03-01T15:09:43.320374+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"menu_btn_"} []
[2021-03-01T15:09:43.443579+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:menu_btn","current_reply":"MENU:cmenu_327"} []
[2021-03-01T15:09:45.183389+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757975288497","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":11,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604183,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null} []
[2021-03-01T15:09:45.185420+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:09:45.187773+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:09:45.187927+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757975288497","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":11,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604183,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null,"user_reply":"cmenu_329"} []
[2021-03-01T15:09:45.188156+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_329"} []
[2021-03-01T15:09:45.254279+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10472"} []
[2021-03-01T15:09:45.254470+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T15:09:45.254609+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_327_"} []
[2021-03-01T15:09:45.385599+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_327","current_reply":"MENU:cmenu_329"} []
[2021-03-01T15:09:53.052247+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759048002671","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":12,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604185,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327_"},"message":null} []
[2021-03-01T15:09:53.054988+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:09:53.057518+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:09:53.057645+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759048002671","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":12,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604185,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327_"},"message":null,"user_reply":"cmenu_327_"} []
[2021-03-01T15:09:53.057867+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_327_"} []
[2021-03-01T15:09:53.159866+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_329_"} []
[2021-03-01T15:09:53.295098+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_329","current_reply":"MENU:cmenu_327_"} []
[2021-03-01T15:11:03.658249+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759932678388","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":13,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604193,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_329_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null} []
[2021-03-01T15:11:03.660298+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:11:03.661652+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:11:03.661751+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759932678388","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":13,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604193,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_329_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null,"user_reply":"cmenu_329"} []
[2021-03-01T15:11:03.661966+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_329"} []
[2021-03-01T15:11:03.776958+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10472"} []
[2021-03-01T15:11:03.777198+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T15:11:03.777313+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_327__"} []
[2021-03-01T15:11:03.952752+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_327_","current_reply":"MENU:cmenu_329"} []
[2021-03-01T15:11:43.327065+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757288539727","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":14,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604263,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327__"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null} []
[2021-03-01T15:11:43.335388+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:11:43.337269+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:11:43.337423+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757288539727","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":14,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604263,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327__"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null,"user_reply":"menu_btn"} []
[2021-03-01T15:11:43.468361+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_329","current_reply":"MENU:menu_btn"} []
[2021-03-01T15:11:44.596803+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757506722694","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":15,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604303,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null} []
[2021-03-01T15:11:44.599670+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:11:44.602034+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:11:44.602199+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757506722694","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":15,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604303,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null,"user_reply":"cmenu_327"} []
[2021-03-01T15:11:44.602436+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_327"} []
[2021-03-01T15:11:44.679915+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"menu_btn_"} []
[2021-03-01T15:11:44.794321+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:menu_btn","current_reply":"MENU:cmenu_327"} []
[2021-03-01T15:11:46.205709+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759607959887","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":16,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604304,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null} []
[2021-03-01T15:11:46.207255+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:11:46.208835+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:11:46.208884+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759607959887","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":16,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604304,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null,"user_reply":"cmenu_329"} []
[2021-03-01T15:11:46.208979+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_329"} []
[2021-03-01T15:11:46.274586+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10472"} []
[2021-03-01T15:11:46.274732+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T15:11:46.274880+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_327_"} []
[2021-03-01T15:11:46.412747+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_327","current_reply":"MENU:cmenu_329"} []
[2021-03-01T15:11:48.340720+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757745707732","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":17,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604306,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null} []
[2021-03-01T15:11:48.343928+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:11:48.347488+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:11:48.347657+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757745707732","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":17,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604306,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null,"user_reply":"menu_btn"} []
[2021-03-01T15:11:48.525942+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_329","current_reply":"MENU:menu_btn"} []
[2021-03-01T15:13:30.917136+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757335600174","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":18,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604308,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null} []
[2021-03-01T15:13:30.919448+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:13:30.921407+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:13:30.921487+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757335600174","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":18,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604308,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null,"user_reply":"cmenu_327"} []
[2021-03-01T15:13:30.921683+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_327"} []
[2021-03-01T15:13:31.043466+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"menu_btn_"} []
[2021-03-01T15:13:31.305056+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:menu_btn","current_reply":"MENU:cmenu_327"} []
[2021-03-01T15:13:33.052273+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005760270067663","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":19,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604411,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null} []
[2021-03-01T15:13:33.055064+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:13:33.057577+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:13:33.057705+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005760270067663","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":19,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604411,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null,"user_reply":"cmenu_329"} []
[2021-03-01T15:13:33.057874+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_329"} []
[2021-03-01T15:13:33.113514+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10472"} []
[2021-03-01T15:13:33.113692+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T15:13:33.113804+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_327_"} []
[2021-03-01T15:13:33.245379+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_327","current_reply":"MENU:cmenu_329"} []
[2021-03-01T15:13:40.758483+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756560871026","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":20,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604413,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327_"},"message":null} []
[2021-03-01T15:13:40.761237+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:13:40.764119+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:13:40.764340+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756560871026","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":20,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604413,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327_"},"message":null,"user_reply":"cmenu_327_"} []
[2021-03-01T15:13:40.764639+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_327_"} []
[2021-03-01T15:13:40.822256+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_329_"} []
[2021-03-01T15:13:40.948821+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_329","current_reply":"MENU:cmenu_327_"} []
[2021-03-01T15:14:58.731919+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start"} []
[2021-03-01T15:14:58.733067+02:00] telegram.DEBUG: Run function createUser {"ch_id":342495217,"app_info_id":"235"} []
[2021-03-01T15:14:58.734075+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"cart","data":{"id":"603ce8d2b33589.36454330","user":"603ce64f19fd79.10100029"},"where":{"user":"603ce64f19fd79.10100029"}} []
[2021-03-01T15:14:58.739367+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:14:58.739472+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start","user_reply":"/start"} []
[2021-03-01T15:14:58.898688+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":null,"current_reply":"MENU:/start"} []
[2021-03-01T15:15:00.512134+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758110401831","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":23,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604498,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null} []
[2021-03-01T15:15:00.513950+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:15:00.515457+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:15:00.515532+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758110401831","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":23,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604498,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_327"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_327"},"message":null,"user_reply":"cmenu_327"} []
[2021-03-01T15:15:00.515654+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_327"} []
[2021-03-01T15:15:00.569599+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"start_"} []
[2021-03-01T15:15:00.692963+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:/start","current_reply":"MENU:cmenu_327"} []
[2021-03-01T15:15:01.988559+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759333093032","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":24,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604500,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null} []
[2021-03-01T15:15:01.990394+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:15:01.992312+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:15:01.992444+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759333093032","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":24,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604500,"text":"–ö–∞—Ç–∞–ª–æ–≥","entities":[{"offset":0,"length":7,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã ","callback_data":"cmenu_329"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_329"},"message":null,"user_reply":"cmenu_329"} []
[2021-03-01T15:15:01.992624+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_329"} []
[2021-03-01T15:15:02.091741+02:00] telegram.DEBUG:  {"$_child":[{"id":"330","app_id":"235","display":"1","parent_id":"329","parent_name":null,"name":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º—É–Ω–¥—à—Ç—É–∫–∏","message":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º—É–Ω–¥—à—Ç—É–∫–∏","category_id":"10489","url":null,"text":null,"created_at":"2021-03-01 15:14:45","updated_at":"2021-03-01 15:14:45"}]} []
[2021-03-01T15:15:02.091862+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10472"} []
[2021-03-01T15:15:02.091908+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T15:15:02.091945+02:00] telegram_menu.DEBUG:  {"$item":{"id":"330","app_id":"235","display":"1","parent_id":"329","parent_name":null,"name":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º—É–Ω–¥—à—Ç—É–∫–∏","message":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º—É–Ω–¥—à—Ç—É–∫–∏","category_id":"10489","url":null,"text":null,"created_at":"2021-03-01 15:14:45","updated_at":"2021-03-01 15:14:45"}} []
[2021-03-01T15:15:02.092022+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_327_"} []
[2021-03-01T15:15:02.229414+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_327","current_reply":"MENU:cmenu_329"} []
[2021-03-01T15:15:04.165745+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757032817304","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":25,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604502,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º—É–Ω–¥—à—Ç—É–∫–∏","callback_data":"cmenu_330"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_330"},"message":null} []
[2021-03-01T15:15:04.169307+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:15:04.172059+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:15:04.172164+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757032817304","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":25,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604502,"text":"–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":20,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º—É–Ω–¥—à—Ç—É–∫–∏","callback_data":"cmenu_330"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_327_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_330"},"message":null,"user_reply":"cmenu_330"} []
[2021-03-01T15:15:04.172417+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_330"} []
[2021-03-01T15:15:04.271442+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10489"} []
[2021-03-01T15:15:04.271556+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":1,"category_id":"10489","product_name":""} []
[2021-03-01T15:15:04.272176+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10489' ORDER BY `name` DESC LIMIT 5 OFFSET 0"]} []
[2021-03-01T15:15:04.272223+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76700","ms_id":"c3836d2c-46d8-11eb-0a80-07c5004a7ecb","article":null,"ms_code":"03120","barcode":"2000000036922","name":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10489","to_telegram":"1","app_info_id":"235","quantity":"17","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:11:57","updated_at":"2021-03-01 15:11:57"}]} []
[2021-03-01T15:15:04.273184+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":1,"page_num":1} []
[2021-03-01T15:15:04.273366+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_329_"} []
[2021-03-01T15:15:04.407600+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_329","current_reply":"MENU:cmenu_330"} []
[2021-03-01T15:15:08.725988+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756875018336","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":26,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604504,"text":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º—É–Ω–¥—à—Ç—É–∫–∏","entities":[{"offset":0,"length":24,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"id_76700"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_329_"}]]}},"chat_instance":"-4860610535761991890","data":"id_76700"},"message":null} []
[2021-03-01T15:15:08.728655+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:15:08.730773+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:15:08.730993+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756875018336","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":26,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604504,"text":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º—É–Ω–¥—à—Ç—É–∫–∏","entities":[{"offset":0,"length":24,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"id_76700"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_329_"}]]}},"chat_instance":"-4860610535761991890","data":"id_76700"},"message":null,"user_reply":"id_76700"} []
[2021-03-01T15:15:08.797235+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76700"} []
[2021-03-01T15:15:08.797390+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_330"} []
[2021-03-01T15:15:08.890939+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_330","current_reply":"MENU:id_76700"} []
[2021-03-01T15:15:15.651073+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756210907154","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":27,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604508,"photo":[{"file_id":"AgACAgQAAxkDAAMbYDzo3DJfqSZKS5Dbk_1nKc1L1kEAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMbYDzo3DJfqSZKS5Dbk_1nKc1L1kEAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda\n\n–¶–µ–Ω–∞: 3300 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76700"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_330"}]]}},"chat_instance":"-4860610535761991890","data":"add_76700"},"message":null} []
[2021-03-01T15:15:15.653217+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:15:15.654735+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T15:15:15.654826+02:00] telegram_menu.INFO: Run function createSelectionButtons {"quantity_of_products":1,"product_id":"76700","button_list":[[{"text":"‚ûñ","callback_data":"minus_1_76700"},{"text":"1 —à—Ç.","callback_data":"number_1_76700"},{"text":"‚ûï","callback_data":"plus_1_76700"}],[{"text":"üÜó","callback_data":"ok_1_76700"}]]} []
[2021-03-01T15:15:15.985731+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:id_76700","current_reply":"DESCRIPTION:add_76700"} []
[2021-03-01T15:15:21.091859+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758369307618","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":28,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604515,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_1_76700"},{"text":"1 —à—Ç.","callback_data":"number_1_76700"},{"text":"‚ûï","callback_data":"plus_1_76700"}],[{"text":"üÜó","callback_data":"ok_1_76700"}]]}},"chat_instance":"-4860610535761991890","data":"ok_1_76700"},"message":null} []
[2021-03-01T15:15:21.094790+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:15:21.097547+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"selectionQuantityOfProducts","$user_state":"SELECTION_QUANTITY_OF_PRODUCTS"} []
[2021-03-01T15:15:21.158636+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758369307618","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":28,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604515,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_1_76700"},{"text":"1 —à—Ç.","callback_data":"number_1_76700"},{"text":"‚ûï","callback_data":"plus_1_76700"}],[{"text":"üÜó","callback_data":"ok_1_76700"}]]}},"chat_instance":"-4860610535761991890","data":"ok_1_76700"},"message":null,"user_reply":"id_76700"} []
[2021-03-01T15:15:21.220112+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76700"} []
[2021-03-01T15:15:21.220276+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"add_76700"} []
[2021-03-01T15:15:21.303536+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:add_76700","current_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76700"} []
[2021-03-01T15:15:23.908945+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759542549400","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":29,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604521,"photo":[{"file_id":"AgACAgQAAxkDAAMdYDzo6btzHZfJOAKo8ecW7ffh6o8AAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMdYDzo6btzHZfJOAKo8ecW7ffh6o8AAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda\n\n–¶–µ–Ω–∞: 3300 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76700"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"add_76700"}]]}},"chat_instance":"-4860610535761991890","data":"cart_"},"message":null} []
[2021-03-01T15:15:23.910699+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:15:23.912528+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T15:15:23.913884+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"id_76700"} []
[2021-03-01T15:15:23.914067+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76700"}]]} []
[2021-03-01T15:15:24.283306+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76700","current_reply":"DESCRIPTION:cart_"} []
[2021-03-01T15:15:38.168313+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758991353108","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":30,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604524,"photo":[{"file_id":"AgACAgQAAxkDAAMeYDzo7GNanSfs3vvhe5bZcqWUf_8AAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADbQADgKEBAAEeBA","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAAMeYDzo7GNanSfs3vvhe5bZcqWUf_8AAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeQADgaEBAAEeBA","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAAMeYDzo7GNanSfs3vvhe5bZcqWUf_8AAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeAADg6EBAAEeBA","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 3300 rub\n\n–ò—Ç–æ–≥–æ: 3300 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76700"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null} []
[2021-03-01T15:15:38.170456+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:15:38.173476+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:15:38.173619+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758991353108","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":30,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604524,"photo":[{"file_id":"AgACAgQAAxkDAAMeYDzo7GNanSfs3vvhe5bZcqWUf_8AAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADbQADgKEBAAEeBA","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAAMeYDzo7GNanSfs3vvhe5bZcqWUf_8AAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeQADgaEBAAEeBA","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAAMeYDzo7GNanSfs3vvhe5bZcqWUf_8AAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeAADg6EBAAEeBA","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 3300 rub\n\n–ò—Ç–æ–≥–æ: 3300 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76700"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null,"user_reply":"menu_btn"} []
[2021-03-01T15:15:38.318216+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:cart_","current_reply":"MENU:menu_btn"} []
[2021-03-01T15:20:27.856313+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start"} []
[2021-03-01T15:20:27.857480+02:00] telegram.DEBUG: Run function createUser {"ch_id":342495217,"app_info_id":"235"} []
[2021-03-01T15:20:27.858622+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"cart","data":{"id":"603cea1bd19e02.57816242","user":"603ce64f19fd79.10100029"},"where":{"user":"603ce64f19fd79.10100029"}} []
[2021-03-01T15:20:27.863495+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:20:27.863601+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start","user_reply":"/start"} []
[2021-03-01T15:20:27.994048+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":null,"current_reply":"MENU:/start"} []
[2021-03-01T15:23:12.611874+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758600477728","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":33,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604827,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null} []
[2021-03-01T15:23:12.614071+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:23:12.615686+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:23:12.615811+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758600477728","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":33,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604827,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null,"user_reply":"cmenu_331"} []
[2021-03-01T15:23:12.615982+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_331"} []
[2021-03-01T15:23:12.675787+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"start_"} []
[2021-03-01T15:23:12.830458+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:/start","current_reply":"MENU:cmenu_331"} []
[2021-03-01T15:23:15.833916+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759070875851","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":34,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604992,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null} []
[2021-03-01T15:23:15.835680+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:23:15.837199+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:23:15.837298+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759070875851","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":34,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614604992,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null,"user_reply":"menu_btn"} []
[2021-03-01T15:23:15.974509+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_331","current_reply":"MENU:menu_btn"} []
[2021-03-01T15:27:11.769759+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start"} []
[2021-03-01T15:27:11.771334+02:00] telegram.DEBUG: Run function createUser {"ch_id":342495217,"app_info_id":"235"} []
[2021-03-01T15:27:11.772691+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"cart","data":{"id":"603cebafbca214.41680109","user":"603ce64f19fd79.10100029"},"where":{"user":"603ce64f19fd79.10100029"}} []
[2021-03-01T15:27:11.783428+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:27:11.783649+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start","user_reply":"/start"} []
[2021-03-01T15:27:11.976667+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":null,"current_reply":"MENU:/start"} []
[2021-03-01T15:27:16.001781+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756546316702","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":37,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605231,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_333"},"message":null} []
[2021-03-01T15:27:16.005189+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:27:16.006631+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:27:16.006697+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756546316702","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":37,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605231,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_333"},"message":null,"user_reply":"cmenu_333"} []
[2021-03-01T15:27:16.006822+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_333"} []
[2021-03-01T15:27:16.079262+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"start_"} []
[2021-03-01T15:27:16.196663+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:/start","current_reply":"MENU:cmenu_333"} []
[2021-03-01T15:27:22.091203+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759458459599","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":38,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605236,"text":"–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã \n\n–û–Ω–ª–∞–π–Ω –æ–ø–ª–∞—Ç—ã —Å–æ–≤–µ—Ä—à–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã. –ù–∞ —Ä–∞–∑–º–µ—Ä –∏—Ö –∫–æ–º–∏—Å—Å–∏–∏ –º—ã –ø–æ–≤–ª–∏—è—Ç—å –Ω–µ –º–æ–∂–µ–º. \n–í—ã–±–∏—Ä–∞–π—Ç–µ –Ω–∞–∏–±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–π –¥–ª—è –≤–∞—Å —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã. \n–ö–æ–Ω—Ç–∞–∫—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞: \nüìû –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 990-00-90\n‚úâÔ∏è Telegram: @hookahbot","entities":[{"offset":0,"length":21,"type":"bold"},{"offset":267,"length":10,"type":"mention"}],"reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"start_"},"message":null} []
[2021-03-01T15:27:22.095001+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:27:22.097803+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:27:22.097978+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759458459599","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":38,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605236,"text":"–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã \n\n–û–Ω–ª–∞–π–Ω –æ–ø–ª–∞—Ç—ã —Å–æ–≤–µ—Ä—à–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã. –ù–∞ —Ä–∞–∑–º–µ—Ä –∏—Ö –∫–æ–º–∏—Å—Å–∏–∏ –º—ã –ø–æ–≤–ª–∏—è—Ç—å –Ω–µ –º–æ–∂–µ–º. \n–í—ã–±–∏—Ä–∞–π—Ç–µ –Ω–∞–∏–±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–π –¥–ª—è –≤–∞—Å —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã. \n–ö–æ–Ω—Ç–∞–∫—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞: \nüìû –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 990-00-90\n‚úâÔ∏è Telegram: @hookahbot","entities":[{"offset":0,"length":21,"type":"bold"},{"offset":267,"length":10,"type":"mention"}],"reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"start_"},"message":null,"user_reply":"start_"} []
[2021-03-01T15:27:22.226940+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_333","current_reply":"MENU:start_"} []
[2021-03-01T15:33:37.157149+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759376031735","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":39,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605242,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null} []
[2021-03-01T15:33:37.159580+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:33:37.162393+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:33:37.162508+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759376031735","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":39,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605242,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null,"user_reply":"cmenu_331"} []
[2021-03-01T15:33:37.162702+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_331"} []
[2021-03-01T15:33:37.225040+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"start__"} []
[2021-03-01T15:33:37.347207+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:start_","current_reply":"MENU:cmenu_331"} []
[2021-03-01T15:33:39.800032+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start"} []
[2021-03-01T15:33:39.802155+02:00] telegram.DEBUG: Run function createUser {"ch_id":342495217,"app_info_id":"235"} []
[2021-03-01T15:33:39.804158+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"cart","data":{"id":"603ced33c451e8.92342425","user":"603ce64f19fd79.10100029"},"where":{"user":"603ce64f19fd79.10100029"}} []
[2021-03-01T15:33:39.809408+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:33:39.809531+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start","user_reply":"/start"} []
[2021-03-01T15:33:39.985338+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":null,"current_reply":"MENU:/start"} []
[2021-03-01T15:33:50.635641+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759146404474","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":42,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605619,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null} []
[2021-03-01T15:33:50.637211+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:33:50.639352+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:33:50.639418+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759146404474","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":42,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605619,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null,"user_reply":"cmenu_331"} []
[2021-03-01T15:33:50.639517+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_331"} []
[2021-03-01T15:33:50.731644+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"start_"} []
[2021-03-01T15:33:50.908033+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:/start","current_reply":"MENU:cmenu_331"} []
[2021-03-01T15:33:53.848535+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756838973096","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":43,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605630,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_334"},"message":null} []
[2021-03-01T15:33:53.849702+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:33:53.850794+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:33:53.850845+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756838973096","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":43,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605630,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_334"},"message":null,"user_reply":"cmenu_334"} []
[2021-03-01T15:33:53.850979+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_334"} []
[2021-03-01T15:33:53.909506+02:00] telegram.DEBUG:  {"$_child":[{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"},{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}]} []
[2021-03-01T15:33:53.909710+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10474"} []
[2021-03-01T15:33:53.909811+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T15:33:53.909881+02:00] telegram_menu.DEBUG:  {"$item":{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"}} []
[2021-03-01T15:33:53.909970+02:00] telegram_menu.DEBUG:  {"$item":{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}} []
[2021-03-01T15:33:53.910097+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_331_"} []
[2021-03-01T15:33:54.037535+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_331","current_reply":"MENU:cmenu_334"} []
[2021-03-01T15:33:56.359968+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757653163778","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":44,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605633,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_335"},"message":null} []
[2021-03-01T15:33:56.362782+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:33:56.365155+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:33:56.365270+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757653163778","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":44,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605633,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_335"},"message":null,"user_reply":"cmenu_335"} []
[2021-03-01T15:33:56.365513+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_335"} []
[2021-03-01T15:33:56.427286+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10556"} []
[2021-03-01T15:33:56.427423+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":1,"category_id":"10556","product_name":""} []
[2021-03-01T15:33:56.428358+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10556' ORDER BY `name` DESC LIMIT 5 OFFSET 0"]} []
[2021-03-01T15:33:56.428428+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76754","ms_id":"b1278ab5-3c4c-11ea-0a80-025c0008eb74","article":null,"ms_code":"01669","barcode":"2000000018867","name":"–£–≥–æ–ª—å Wugil 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"128","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76753","ms_id":"8c402e8e-a744-11ea-0a80-0263000c2cd9","article":null,"ms_code":"02317","barcode":"2000000026893","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"2","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76757","ms_id":"eb20e400-d5a2-11e9-0a80-0088000b693e","article":null,"ms_code":"01058","barcode":"4678599753001","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"233","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:26","updated_at":"2021-03-01 15:31:26"},{"id":"76752","ms_id":"0e6c3b43-d5a3-11e9-0a80-03f3000bb73a","article":null,"ms_code":"01059","barcode":"4678599753124","name":"–£–≥–æ–ª—å Nero 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"19","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76755","ms_id":"d53d79f6-700a-11ea-0a80-00210010a59f","article":null,"ms_code":"01916","barcode":"0","name":"–£–≥–æ–ª—å Moyo 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"33","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:23","updated_at":"2021-03-01 15:31:23"}]} []
[2021-03-01T15:33:56.430736+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":6,"page_num":1} []
[2021-03-01T15:33:56.430884+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_334_"} []
[2021-03-01T15:33:56.585100+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_334","current_reply":"MENU:cmenu_335"} []
[2021-03-01T15:34:04.927357+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758589374003","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":45,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605636,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-4860610535761991890","data":"page_2-10556"},"message":null} []
[2021-03-01T15:34:04.930300+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:34:04.933109+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:34:04.933237+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758589374003","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":45,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605636,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-4860610535761991890","data":"page_2-10556"},"message":null,"user_reply":"page_2-10556"} []
[2021-03-01T15:34:04.933499+02:00] telegram.DEBUG: Page handle {"callback":"2-10556"} []
[2021-03-01T15:34:04.934294+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":"2","category_id":"10556"} []
[2021-03-01T15:34:04.934408+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":"2","category_id":"10556","product_name":""} []
[2021-03-01T15:34:04.935361+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10556' ORDER BY `name` DESC LIMIT 5 OFFSET 5"]} []
[2021-03-01T15:34:04.935456+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76756","ms_id":"e466133c-137a-11ea-0a80-01520011bb91","article":null,"ms_code":"01497","barcode":"8991133000017","name":"–£–≥–æ–ª—å Cocoloco 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"574","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:23","updated_at":"2021-03-01 15:31:23"}]} []
[2021-03-01T15:34:04.936207+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":6,"page_num":2} []
[2021-03-01T15:34:05.049796+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_335","current_reply":"MENU:page_2-10556"} []
[2021-03-01T15:34:07.112591+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756776171016","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":45,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605636,"edit_date":1614605644,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"id_76756"}],[{"text":"1","callback_data":"page_1-10556"},{"text":"‚ãÖ2‚ãÖ","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}]]}},"chat_instance":"-4860610535761991890","data":"id_76756"},"message":null} []
[2021-03-01T15:34:07.115360+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:34:07.117390+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:34:07.117492+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756776171016","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":45,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605636,"edit_date":1614605644,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"id_76756"}],[{"text":"1","callback_data":"page_1-10556"},{"text":"‚ãÖ2‚ãÖ","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}]]}},"chat_instance":"-4860610535761991890","data":"id_76756"},"message":null,"user_reply":"id_76756"} []
[2021-03-01T15:34:07.172438+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76756"} []
[2021-03-01T15:34:07.172571+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"page_2-10556"} []
[2021-03-01T15:34:07.243291+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:page_2-10556","current_reply":"MENU:id_76756"} []
[2021-03-01T15:34:11.076825+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759782037211","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":46,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605647,"photo":[{"file_id":"AgACAgQAAxkDAAMuYDztTz1M3jWjc4T4r0RcnEkHd3wAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMuYDztTz1M3jWjc4T4r0RcnEkHd3wAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–£–≥–æ–ª—å Cocoloco 25–º–º\n\n–¶–µ–Ω–∞: 390 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76756"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"page_2-10556"}]]}},"chat_instance":"-4860610535761991890","data":"add_76756"},"message":null} []
[2021-03-01T15:34:11.078058+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:34:11.079519+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T15:34:11.079648+02:00] telegram_menu.INFO: Run function createSelectionButtons {"quantity_of_products":1,"product_id":"76756","button_list":[[{"text":"‚ûñ","callback_data":"minus_1_76756"},{"text":"1 —à—Ç.","callback_data":"number_1_76756"},{"text":"‚ûï","callback_data":"plus_1_76756"}],[{"text":"üÜó","callback_data":"ok_1_76756"}]]} []
[2021-03-01T15:34:11.246550+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:id_76756","current_reply":"DESCRIPTION:add_76756"} []
[2021-03-01T15:34:14.968437+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759027767661","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":47,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605651,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_1_76756"},{"text":"1 —à—Ç.","callback_data":"number_1_76756"},{"text":"‚ûï","callback_data":"plus_1_76756"}],[{"text":"üÜó","callback_data":"ok_1_76756"}]]}},"chat_instance":"-4860610535761991890","data":"plus_1_76756"},"message":null} []
[2021-03-01T15:34:14.971864+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:34:14.974391+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"selectionQuantityOfProducts","$user_state":"SELECTION_QUANTITY_OF_PRODUCTS"} []
[2021-03-01T15:34:14.974662+02:00] telegram_menu.INFO: Run function createSelectionButtons {"quantity_of_products":2,"product_id":"76756","button_list":[[{"text":"‚ûñ","callback_data":"minus_2_76756"},{"text":"2 —à—Ç.","callback_data":"number_2_76756"},{"text":"‚ûï","callback_data":"plus_2_76756"}],[{"text":"üÜó","callback_data":"ok_2_76756"}]]} []
[2021-03-01T15:34:15.079230+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:add_76756","current_reply":"SELECTION_QUANTITY_OF_PRODUCTS:plus_1_76756"} []
[2021-03-01T15:34:16.758760+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757989730122","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":47,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605651,"edit_date":1614605655,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_2_76756"},{"text":"2 —à—Ç.","callback_data":"number_2_76756"},{"text":"‚ûï","callback_data":"plus_2_76756"}],[{"text":"üÜó","callback_data":"ok_2_76756"}]]}},"chat_instance":"-4860610535761991890","data":"ok_2_76756"},"message":null} []
[2021-03-01T15:34:16.761529+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:34:16.763352+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"selectionQuantityOfProducts","$user_state":"SELECTION_QUANTITY_OF_PRODUCTS"} []
[2021-03-01T15:34:16.901460+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757989730122","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":47,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605651,"edit_date":1614605655,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_2_76756"},{"text":"2 —à—Ç.","callback_data":"number_2_76756"},{"text":"‚ûï","callback_data":"plus_2_76756"}],[{"text":"üÜó","callback_data":"ok_2_76756"}]]}},"chat_instance":"-4860610535761991890","data":"ok_2_76756"},"message":null,"user_reply":"id_76756"} []
[2021-03-01T15:34:17.084848+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76756"} []
[2021-03-01T15:34:17.085014+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"plus_1_76756"} []
[2021-03-01T15:34:17.302748+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"SELECTION_QUANTITY_OF_PRODUCTS:plus_1_76756","current_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76756"} []
[2021-03-01T15:34:20.249748+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759481333232","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":48,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605657,"photo":[{"file_id":"AgACAgQAAxkDAAMwYDztWYgAAWCFJA7rgTulUGrmTbP0AAK_qzEbtk-MUhHVYYg8GAoThFo0J10AAwEAAwIAA20AAxEmAwABHgQ","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAMwYDztWYgAAWCFJA7rgTulUGrmTbP0AAK_qzEbtk-MUhHVYYg8GAoThFo0J10AAwEAAwIAA3gAAw8mAwABHgQ","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–£–≥–æ–ª—å Cocoloco 25–º–º\n\n–¶–µ–Ω–∞: 390 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76756"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"plus_1_76756"}]]}},"chat_instance":"-4860610535761991890","data":"cart_"},"message":null} []
[2021-03-01T15:34:20.252481+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:34:20.254791+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T15:34:20.257718+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"id_76756"} []
[2021-03-01T15:34:20.257831+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76756"}]]} []
[2021-03-01T15:34:20.423522+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76756","current_reply":"DESCRIPTION:cart_"} []
[2021-03-01T15:34:24.319053+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756926881425","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":49,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605660,"photo":[{"file_id":"AgACAgQAAxkDAAMxYDztXOz_bgABlYGBBQyK5pkz1gJ1AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA20AA4ChAQABHgQ","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAAMxYDztXOz_bgABlYGBBQyK5pkz1gJ1AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3kAA4GhAQABHgQ","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAAMxYDztXOz_bgABlYGBBQyK5pkz1gJ1AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3gAA4OhAQABHgQ","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 3300 rub\n–£–≥–æ–ª—å Cocoloco 25–º–º - 2—à—Ç. –Ω–∞ —Å—É–º–º—É 780 rub\n\n–ò—Ç–æ–≥–æ: 4080 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76756"}]]}},"chat_instance":"-4860610535761991890","data":"ordering_btn"},"message":null} []
[2021-03-01T15:34:24.321439+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:34:24.323487+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:34:24.323576+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756926881425","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":49,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605660,"photo":[{"file_id":"AgACAgQAAxkDAAMxYDztXOz_bgABlYGBBQyK5pkz1gJ1AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA20AA4ChAQABHgQ","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAAMxYDztXOz_bgABlYGBBQyK5pkz1gJ1AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3kAA4GhAQABHgQ","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAAMxYDztXOz_bgABlYGBBQyK5pkz1gJ1AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3gAA4OhAQABHgQ","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 3300 rub\n–£–≥–æ–ª—å Cocoloco 25–º–º - 2—à—Ç. –Ω–∞ —Å—É–º–º—É 780 rub\n\n–ò—Ç–æ–≥–æ: 4080 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76756"}]]}},"chat_instance":"-4860610535761991890","data":"ordering_btn"},"message":null,"user_reply":"ordering_btn"} []
[2021-03-01T15:34:24.391148+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:cart_","current_reply":"MENU:ordering_btn"} []
[2021-03-01T15:34:26.893522+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start"} []
[2021-03-01T15:34:26.894598+02:00] telegram.DEBUG: Run function createUser {"ch_id":342495217,"app_info_id":"235"} []
[2021-03-01T15:34:26.896530+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"cart","data":{"id":"603ced62dadf98.29701013","user":"603ce64f19fd79.10100029"},"where":{"user":"603ce64f19fd79.10100029"}} []
[2021-03-01T15:34:26.901745+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:34:26.901889+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"/start","user_reply":"/start"} []
[2021-03-01T15:34:27.030719+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":null,"current_reply":"MENU:/start"} []
[2021-03-01T15:45:53.396112+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757816075487","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":52,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605667,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null} []
[2021-03-01T15:45:53.398147+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:45:53.401220+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:45:53.401427+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757816075487","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":52,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614605667,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null,"user_reply":"cmenu_331"} []
[2021-03-01T15:45:53.401774+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_331"} []
[2021-03-01T15:45:53.511404+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"start_"} []
[2021-03-01T15:45:53.692922+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:/start","current_reply":"MENU:cmenu_331"} []
[2021-03-01T15:45:54.906556+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757310588915","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":53,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606353,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_334"},"message":null} []
[2021-03-01T15:45:54.909794+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:45:54.911972+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:45:54.912101+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757310588915","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":53,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606353,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_334"},"message":null,"user_reply":"cmenu_334"} []
[2021-03-01T15:45:54.912458+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_334"} []
[2021-03-01T15:45:55.041075+02:00] telegram.DEBUG:  {"$_child":[{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"},{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}]} []
[2021-03-01T15:45:55.041251+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10474"} []
[2021-03-01T15:45:55.041315+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T15:45:55.041346+02:00] telegram_menu.DEBUG:  {"$item":{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"}} []
[2021-03-01T15:45:55.041387+02:00] telegram_menu.DEBUG:  {"$item":{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}} []
[2021-03-01T15:45:55.041477+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_331_"} []
[2021-03-01T15:45:55.240833+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_331","current_reply":"MENU:cmenu_334"} []
[2021-03-01T15:45:56.850069+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758710859058","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":54,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606355,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_335"},"message":null} []
[2021-03-01T15:45:56.852177+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:45:56.853609+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:45:56.853680+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758710859058","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":54,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606355,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_335"},"message":null,"user_reply":"cmenu_335"} []
[2021-03-01T15:45:56.853816+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_335"} []
[2021-03-01T15:45:56.907632+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10556"} []
[2021-03-01T15:45:56.907749+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":1,"category_id":"10556","product_name":""} []
[2021-03-01T15:45:56.908086+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10556' ORDER BY `name` DESC LIMIT 5 OFFSET 0"]} []
[2021-03-01T15:45:56.908131+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76754","ms_id":"b1278ab5-3c4c-11ea-0a80-025c0008eb74","article":null,"ms_code":"01669","barcode":"2000000018867","name":"–£–≥–æ–ª—å Wugil 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"128","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76753","ms_id":"8c402e8e-a744-11ea-0a80-0263000c2cd9","article":null,"ms_code":"02317","barcode":"2000000026893","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"2","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76757","ms_id":"eb20e400-d5a2-11e9-0a80-0088000b693e","article":null,"ms_code":"01058","barcode":"4678599753001","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"233","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:26","updated_at":"2021-03-01 15:31:26"},{"id":"76752","ms_id":"0e6c3b43-d5a3-11e9-0a80-03f3000bb73a","article":null,"ms_code":"01059","barcode":"4678599753124","name":"–£–≥–æ–ª—å Nero 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"19","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76755","ms_id":"d53d79f6-700a-11ea-0a80-00210010a59f","article":null,"ms_code":"01916","barcode":"0","name":"–£–≥–æ–ª—å Moyo 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"33","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:23","updated_at":"2021-03-01 15:31:23"}]} []
[2021-03-01T15:45:56.909436+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":6,"page_num":1} []
[2021-03-01T15:45:56.909630+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_334_"} []
[2021-03-01T15:45:57.084702+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_334","current_reply":"MENU:cmenu_335"} []
[2021-03-01T15:46:04.061871+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757998686022","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":55,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606357,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-4860610535761991890","data":"id_76754"},"message":null} []
[2021-03-01T15:46:04.063900+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:04.066087+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:04.066242+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757998686022","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":55,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606357,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-4860610535761991890","data":"id_76754"},"message":null,"user_reply":"id_76754"} []
[2021-03-01T15:46:04.153769+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76754"} []
[2021-03-01T15:46:04.153978+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_335"} []
[2021-03-01T15:46:04.255636+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_335","current_reply":"MENU:id_76754"} []
[2021-03-01T15:46:06.337373+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757152237571","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":56,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606364,"photo":[{"file_id":"AgACAgQAAxkDAAM4YDzwHL2GAQueBuhuWlOWwTjM2EMAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAM4YDzwHL2GAQueBuhuWlOWwTjM2EMAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–£–≥–æ–ª—å Wugil 25–º–º\n\n–¶–µ–Ω–∞: 400 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76754"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_335"}]]}},"chat_instance":"-4860610535761991890","data":"add_76754"},"message":null} []
[2021-03-01T15:46:06.340852+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:06.343550+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T15:46:06.343754+02:00] telegram_menu.INFO: Run function createSelectionButtons {"quantity_of_products":1,"product_id":"76754","button_list":[[{"text":"‚ûñ","callback_data":"minus_1_76754"},{"text":"1 —à—Ç.","callback_data":"number_1_76754"},{"text":"‚ûï","callback_data":"plus_1_76754"}],[{"text":"üÜó","callback_data":"ok_1_76754"}]]} []
[2021-03-01T15:46:06.555637+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:id_76754","current_reply":"DESCRIPTION:add_76754"} []
[2021-03-01T15:46:08.351079+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756111424344","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":57,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606366,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_1_76754"},{"text":"1 —à—Ç.","callback_data":"number_1_76754"},{"text":"‚ûï","callback_data":"plus_1_76754"}],[{"text":"üÜó","callback_data":"ok_1_76754"}]]}},"chat_instance":"-4860610535761991890","data":"ok_1_76754"},"message":null} []
[2021-03-01T15:46:08.359082+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:08.362663+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"selectionQuantityOfProducts","$user_state":"SELECTION_QUANTITY_OF_PRODUCTS"} []
[2021-03-01T15:46:08.441014+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756111424344","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":57,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606366,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_1_76754"},{"text":"1 —à—Ç.","callback_data":"number_1_76754"},{"text":"‚ûï","callback_data":"plus_1_76754"}],[{"text":"üÜó","callback_data":"ok_1_76754"}]]}},"chat_instance":"-4860610535761991890","data":"ok_1_76754"},"message":null,"user_reply":"id_76754"} []
[2021-03-01T15:46:08.493875+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76754"} []
[2021-03-01T15:46:08.493960+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"add_76754"} []
[2021-03-01T15:46:08.573732+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:add_76754","current_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76754"} []
[2021-03-01T15:46:10.891149+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757982890814","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":58,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606368,"photo":[{"file_id":"AgACAgQAAxkDAAM6YDzwIGNOpdGouREOp92Gxg7MIngAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAAM6YDzwIGNOpdGouREOp92Gxg7MIngAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–£–≥–æ–ª—å Wugil 25–º–º\n\n–¶–µ–Ω–∞: 400 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76754"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"add_76754"}]]}},"chat_instance":"-4860610535761991890","data":"cart_"},"message":null} []
[2021-03-01T15:46:10.894098+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:10.895666+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T15:46:10.896656+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"id_76754"} []
[2021-03-01T15:46:10.896700+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76754"}]]} []
[2021-03-01T15:46:11.070380+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76754","current_reply":"DESCRIPTION:cart_"} []
[2021-03-01T15:46:14.389481+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758021884722","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":59,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606370,"photo":[{"file_id":"AgACAgQAAxkDAAM7YDzwIrQH5sY613jgKU7qe-ZYCVcAAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADbQADgKEBAAEeBA","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAAM7YDzwIrQH5sY613jgKU7qe-ZYCVcAAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeQADgaEBAAEeBA","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAAM7YDzwIrQH5sY613jgKU7qe-ZYCVcAAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeAADg6EBAAEeBA","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 3300 rub\n–£–≥–æ–ª—å Cocoloco 25–º–º - 2—à—Ç. –Ω–∞ —Å—É–º–º—É 780 rub\n–£–≥–æ–ª—å Wugil 25–º–º - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 400 rub\n\n–ò—Ç–æ–≥–æ: 4480 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76754"}]]}},"chat_instance":"-4860610535761991890","data":"remove_76700"},"message":null} []
[2021-03-01T15:46:14.391770+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:14.393931+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:14.394039+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758021884722","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":59,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606370,"photo":[{"file_id":"AgACAgQAAxkDAAM7YDzwIrQH5sY613jgKU7qe-ZYCVcAAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADbQADgKEBAAEeBA","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAAM7YDzwIrQH5sY613jgKU7qe-ZYCVcAAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeQADgaEBAAEeBA","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAAM7YDzwIrQH5sY613jgKU7qe-ZYCVcAAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeAADg6EBAAEeBA","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 3300 rub\n–£–≥–æ–ª—å Cocoloco 25–º–º - 2—à—Ç. –Ω–∞ —Å—É–º–º—É 780 rub\n–£–≥–æ–ª—å Wugil 25–º–º - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 400 rub\n\n–ò—Ç–æ–≥–æ: 4480 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76754"}]]}},"chat_instance":"-4860610535761991890","data":"remove_76700"},"message":null,"user_reply":"remove_76700"} []
[2021-03-01T15:46:14.396643+02:00] telegram.DEBUG: deleteProductInCart {"log":"DELETE FROM `products_in_cart` WHERE `products` = '76700' AND `cart` = '603ce8d2b33589.36454330'"} []
[2021-03-01T15:46:14.465746+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758021884722","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":59,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606370,"photo":[{"file_id":"AgACAgQAAxkDAAM7YDzwIrQH5sY613jgKU7qe-ZYCVcAAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADbQADgKEBAAEeBA","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAAM7YDzwIrQH5sY613jgKU7qe-ZYCVcAAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeQADgaEBAAEeBA","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAAM7YDzwIrQH5sY613jgKU7qe-ZYCVcAAq6pMRsAAXg0UxfSDPQv8zHJKmOoGwAEAQADAgADeAADg6EBAAEeBA","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 3300 rub\n–£–≥–æ–ª—å Cocoloco 25–º–º - 2—à—Ç. –Ω–∞ —Å—É–º–º—É 780 rub\n–£–≥–æ–ª—å Wugil 25–º–º - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 400 rub\n\n–ò—Ç–æ–≥–æ: 4480 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –º—É–Ω–¥—à—Ç—É–∫ Panda","callback_data":"remove_76700"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76754"}]]}},"chat_instance":"-4860610535761991890","data":"remove_76700"},"message":null,"user_reply":"cart_"} []
[2021-03-01T15:46:14.528639+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cart_"} []
[2021-03-01T15:46:14.528731+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cart_"}]]} []
[2021-03-01T15:46:14.654036+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:cart_","current_reply":"MENU:cart_"} []
[2021-03-01T15:46:17.778054+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758496391065","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":60,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606374,"photo":[{"file_id":"AgACAgQAAxkDAAM8YDzwJu9y4IMpmPaeMm3sJL4sYyoAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADbQADDVQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw1UAgAB","file_size":20797,"width":320,"height":253},{"file_id":"AgACAgQAAxkDAAM8YDzwJu9y4IMpmPaeMm3sJL4sYyoAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeQADDFQCAAEeBA","file_unique_id":"AQADqvvsJ10AAwxUAgAB","file_size":39687,"width":860,"height":680},{"file_id":"AgACAgQAAxkDAAM8YDzwJu9y4IMpmPaeMm3sJL4sYyoAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeAADDlQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw5UAgAB","file_size":59299,"width":800,"height":633}],"caption":"–£–≥–æ–ª—å Cocoloco 25–º–º - 2—à—Ç. –Ω–∞ —Å—É–º–º—É 780 rub\n–£–≥–æ–ª—å Wugil 25–º–º - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 400 rub\n\n–ò—Ç–æ–≥–æ: 1180 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cart_"}]]}},"chat_instance":"-4860610535761991890","data":"remove_76756"},"message":null} []
[2021-03-01T15:46:17.781363+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:17.782888+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleCart","$user_state":"CART"} []
[2021-03-01T15:46:17.785519+02:00] telegram.DEBUG: deleteProductInCart {"log":"DELETE FROM `products_in_cart` WHERE `products` = '76756' AND `cart` = '603ce8d2b33589.36454330'"} []
[2021-03-01T15:46:17.838216+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758496391065","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":60,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606374,"photo":[{"file_id":"AgACAgQAAxkDAAM8YDzwJu9y4IMpmPaeMm3sJL4sYyoAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADbQADDVQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw1UAgAB","file_size":20797,"width":320,"height":253},{"file_id":"AgACAgQAAxkDAAM8YDzwJu9y4IMpmPaeMm3sJL4sYyoAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeQADDFQCAAEeBA","file_unique_id":"AQADqvvsJ10AAwxUAgAB","file_size":39687,"width":860,"height":680},{"file_id":"AgACAgQAAxkDAAM8YDzwJu9y4IMpmPaeMm3sJL4sYyoAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeAADDlQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw5UAgAB","file_size":59299,"width":800,"height":633}],"caption":"–£–≥–æ–ª—å Cocoloco 25–º–º - 2—à—Ç. –Ω–∞ —Å—É–º–º—É 780 rub\n–£–≥–æ–ª—å Wugil 25–º–º - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 400 rub\n\n–ò—Ç–æ–≥–æ: 1180 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"remove_76756"},{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cart_"}]]}},"chat_instance":"-4860610535761991890","data":"remove_76756"},"message":null,"user_reply":"cart_"} []
[2021-03-01T15:46:17.897478+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cart_"} []
[2021-03-01T15:46:17.897668+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cart_"}]]} []
[2021-03-01T15:46:17.968490+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cart_","current_reply":"CART:cart_"} []
[2021-03-01T15:46:20.051970+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756193742518","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":61,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606377,"photo":[{"file_id":"AgACAgQAAxkDAAM9YDzwKaCGEy38HLGrTr2odCwYlkMAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADbQADDVQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw1UAgAB","file_size":20797,"width":320,"height":253},{"file_id":"AgACAgQAAxkDAAM9YDzwKaCGEy38HLGrTr2odCwYlkMAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeQADDFQCAAEeBA","file_unique_id":"AQADqvvsJ10AAwxUAgAB","file_size":39687,"width":860,"height":680},{"file_id":"AgACAgQAAxkDAAM9YDzwKaCGEy38HLGrTr2odCwYlkMAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeAADDlQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw5UAgAB","file_size":59299,"width":800,"height":633}],"caption":"–£–≥–æ–ª—å Wugil 25–º–º - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 400 rub\n\n–ò—Ç–æ–≥–æ: 400 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cart_"}]]}},"chat_instance":"-4860610535761991890","data":"remove_76754"},"message":null} []
[2021-03-01T15:46:20.055790+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:20.057214+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleCart","$user_state":"CART"} []
[2021-03-01T15:46:20.059492+02:00] telegram.DEBUG: deleteProductInCart {"log":"DELETE FROM `products_in_cart` WHERE `products` = '76754' AND `cart` = '603ce8d2b33589.36454330'"} []
[2021-03-01T15:46:20.142513+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756193742518","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":61,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606377,"photo":[{"file_id":"AgACAgQAAxkDAAM9YDzwKaCGEy38HLGrTr2odCwYlkMAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADbQADDVQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw1UAgAB","file_size":20797,"width":320,"height":253},{"file_id":"AgACAgQAAxkDAAM9YDzwKaCGEy38HLGrTr2odCwYlkMAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeQADDFQCAAEeBA","file_unique_id":"AQADqvvsJ10AAwxUAgAB","file_size":39687,"width":860,"height":680},{"file_id":"AgACAgQAAxkDAAM9YDzwKaCGEy38HLGrTr2odCwYlkMAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeAADDlQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw5UAgAB","file_size":59299,"width":800,"height":633}],"caption":"–£–≥–æ–ª—å Wugil 25–º–º - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 400 rub\n\n–ò—Ç–æ–≥–æ: 400 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cart_"}]]}},"chat_instance":"-4860610535761991890","data":"remove_76754"},"message":null,"user_reply":"cart_"} []
[2021-03-01T15:46:20.261916+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cart_"} []
[2021-03-01T15:46:20.262069+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cart_"}]]} []
[2021-03-01T15:46:20.367378+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"CART:cart_","current_reply":"CART:cart_"} []
[2021-03-01T15:46:22.483742+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757605512400","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":62,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606380,"photo":[{"file_id":"AgACAgQAAxkDAAM-YDzwLLu0mK7fRtH8L0mZxAQ6sqQAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADbQADDVQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw1UAgAB","file_size":20797,"width":320,"height":253},{"file_id":"AgACAgQAAxkDAAM-YDzwLLu0mK7fRtH8L0mZxAQ6sqQAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeQADDFQCAAEeBA","file_unique_id":"AQADqvvsJ10AAwxUAgAB","file_size":39687,"width":860,"height":680},{"file_id":"AgACAgQAAxkDAAM-YDzwLLu0mK7fRtH8L0mZxAQ6sqQAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeAADDlQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw5UAgAB","file_size":59299,"width":800,"height":633}],"caption":"- - -","reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cart_"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null} []
[2021-03-01T15:46:22.487135+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:22.488787+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleCart","$user_state":"CART"} []
[2021-03-01T15:46:22.622576+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"CART:cart_","current_reply":"CART:menu_btn"} []
[2021-03-01T15:46:24.974278+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759542102895","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":63,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606382,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null} []
[2021-03-01T15:46:24.977035+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:24.978637+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:24.978846+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759542102895","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":63,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606382,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null,"user_reply":"cmenu_331"} []
[2021-03-01T15:46:24.979177+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_331"} []
[2021-03-01T15:46:25.081687+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"menu_btn_"} []
[2021-03-01T15:46:25.224620+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"CART:menu_btn","current_reply":"MENU:cmenu_331"} []
[2021-03-01T15:46:30.165290+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758539025710","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":64,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606385,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_334"},"message":null} []
[2021-03-01T15:46:30.168428+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:30.170997+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:30.171195+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758539025710","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":64,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606385,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_334"},"message":null,"user_reply":"cmenu_334"} []
[2021-03-01T15:46:30.171573+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_334"} []
[2021-03-01T15:46:30.239786+02:00] telegram.DEBUG:  {"$_child":[{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"},{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}]} []
[2021-03-01T15:46:30.239972+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10474"} []
[2021-03-01T15:46:30.240041+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T15:46:30.240092+02:00] telegram_menu.DEBUG:  {"$item":{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"}} []
[2021-03-01T15:46:30.240213+02:00] telegram_menu.DEBUG:  {"$item":{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}} []
[2021-03-01T15:46:30.240296+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_331_"} []
[2021-03-01T15:46:30.354058+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_331","current_reply":"MENU:cmenu_334"} []
[2021-03-01T15:46:31.649940+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756361131819","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":65,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606390,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_335"},"message":null} []
[2021-03-01T15:46:31.652002+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:31.654131+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:31.654371+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756361131819","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":65,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606390,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_335"},"message":null,"user_reply":"cmenu_335"} []
[2021-03-01T15:46:31.654923+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_335"} []
[2021-03-01T15:46:31.721467+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10556"} []
[2021-03-01T15:46:31.721560+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":1,"category_id":"10556","product_name":""} []
[2021-03-01T15:46:31.721908+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10556' ORDER BY `name` DESC LIMIT 5 OFFSET 0"]} []
[2021-03-01T15:46:31.721944+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76754","ms_id":"b1278ab5-3c4c-11ea-0a80-025c0008eb74","article":null,"ms_code":"01669","barcode":"2000000018867","name":"–£–≥–æ–ª—å Wugil 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"128","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76753","ms_id":"8c402e8e-a744-11ea-0a80-0263000c2cd9","article":null,"ms_code":"02317","barcode":"2000000026893","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"2","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76757","ms_id":"eb20e400-d5a2-11e9-0a80-0088000b693e","article":null,"ms_code":"01058","barcode":"4678599753001","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"233","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:26","updated_at":"2021-03-01 15:31:26"},{"id":"76752","ms_id":"0e6c3b43-d5a3-11e9-0a80-03f3000bb73a","article":null,"ms_code":"01059","barcode":"4678599753124","name":"–£–≥–æ–ª—å Nero 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"19","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76755","ms_id":"d53d79f6-700a-11ea-0a80-00210010a59f","article":null,"ms_code":"01916","barcode":"0","name":"–£–≥–æ–ª—å Moyo 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"33","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:23","updated_at":"2021-03-01 15:31:23"}]} []
[2021-03-01T15:46:31.722528+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":6,"page_num":1} []
[2021-03-01T15:46:31.722596+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_334_"} []
[2021-03-01T15:46:31.868745+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_334","current_reply":"MENU:cmenu_335"} []
[2021-03-01T15:46:34.467426+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757681724308","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":66,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606391,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-4860610535761991890","data":"cart_"},"message":null} []
[2021-03-01T15:46:34.469410+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:34.470562+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:34.470727+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757681724308","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":66,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606391,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-4860610535761991890","data":"cart_"},"message":null,"user_reply":"cart_"} []
[2021-03-01T15:46:34.528658+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_335"} []
[2021-03-01T15:46:34.528812+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_335"}]]} []
[2021-03-01T15:46:34.614396+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_335","current_reply":"MENU:cart_"} []
[2021-03-01T15:46:36.425491+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758644233502","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":67,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606394,"photo":[{"file_id":"AgACAgQAAxkDAANDYDzwOqY1iKBp7TsMeaUeJsi3ARYAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADbQADDVQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw1UAgAB","file_size":20797,"width":320,"height":253},{"file_id":"AgACAgQAAxkDAANDYDzwOqY1iKBp7TsMeaUeJsi3ARYAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeQADDFQCAAEeBA","file_unique_id":"AQADqvvsJ10AAwxUAgAB","file_size":39687,"width":860,"height":680},{"file_id":"AgACAgQAAxkDAANDYDzwOqY1iKBp7TsMeaUeJsi3ARYAAlyrMRtg67xRqlOvODFF81Kq--wnXQADAQADAgADeAADDlQCAAEeBA","file_unique_id":"AQADqvvsJ10AAw5UAgAB","file_size":59299,"width":800,"height":633}],"caption":"- - -","reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_335"}]]}},"chat_instance":"-4860610535761991890","data":"menu_btn"},"message":null} []
[2021-03-01T15:46:36.429100+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:36.431413+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleCart","$user_state":"CART"} []
[2021-03-01T15:46:36.583368+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cart_","current_reply":"CART:menu_btn"} []
[2021-03-01T15:46:39.095081+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005760053070393","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":68,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606396,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null} []
[2021-03-01T15:46:39.097558+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:39.099323+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:39.099394+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005760053070393","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":68,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606396,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_331"},"message":null,"user_reply":"cmenu_331"} []
[2021-03-01T15:46:39.099497+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_331"} []
[2021-03-01T15:46:39.161774+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"menu_btn_"} []
[2021-03-01T15:46:39.292455+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"CART:menu_btn","current_reply":"MENU:cmenu_331"} []
[2021-03-01T15:46:50.700881+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756802928197","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":69,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606399,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_334"},"message":null} []
[2021-03-01T15:46:50.704048+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:50.705861+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:50.705943+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756802928197","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":69,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606399,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_334"},"message":null,"user_reply":"cmenu_334"} []
[2021-03-01T15:46:50.706120+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_334"} []
[2021-03-01T15:46:50.765598+02:00] telegram.DEBUG:  {"$_child":[{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"},{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}]} []
[2021-03-01T15:46:50.765827+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10474"} []
[2021-03-01T15:46:50.765929+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T15:46:50.765999+02:00] telegram_menu.DEBUG:  {"$item":{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"}} []
[2021-03-01T15:46:50.766161+02:00] telegram_menu.DEBUG:  {"$item":{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}} []
[2021-03-01T15:46:50.766427+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_331_"} []
[2021-03-01T15:46:50.892357+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_331","current_reply":"MENU:cmenu_334"} []
[2021-03-01T15:46:53.253876+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756110954438","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":70,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606410,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_335"},"message":null} []
[2021-03-01T15:46:53.255822+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:53.257452+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:53.257526+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756110954438","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":70,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606410,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-4860610535761991890","data":"cmenu_335"},"message":null,"user_reply":"cmenu_335"} []
[2021-03-01T15:46:53.257785+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_335"} []
[2021-03-01T15:46:53.318767+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10556"} []
[2021-03-01T15:46:53.318940+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":1,"category_id":"10556","product_name":""} []
[2021-03-01T15:46:53.319454+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10556' ORDER BY `name` DESC LIMIT 5 OFFSET 0"]} []
[2021-03-01T15:46:53.319588+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76754","ms_id":"b1278ab5-3c4c-11ea-0a80-025c0008eb74","article":null,"ms_code":"01669","barcode":"2000000018867","name":"–£–≥–æ–ª—å Wugil 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"128","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76753","ms_id":"8c402e8e-a744-11ea-0a80-0263000c2cd9","article":null,"ms_code":"02317","barcode":"2000000026893","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"2","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76757","ms_id":"eb20e400-d5a2-11e9-0a80-0088000b693e","article":null,"ms_code":"01058","barcode":"4678599753001","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"233","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:26","updated_at":"2021-03-01 15:31:26"},{"id":"76752","ms_id":"0e6c3b43-d5a3-11e9-0a80-03f3000bb73a","article":null,"ms_code":"01059","barcode":"4678599753124","name":"–£–≥–æ–ª—å Nero 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"19","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76755","ms_id":"d53d79f6-700a-11ea-0a80-00210010a59f","article":null,"ms_code":"01916","barcode":"0","name":"–£–≥–æ–ª—å Moyo 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"33","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:23","updated_at":"2021-03-01 15:31:23"}]} []
[2021-03-01T15:46:53.320497+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":6,"page_num":1} []
[2021-03-01T15:46:53.320714+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_334_"} []
[2021-03-01T15:46:53.463543+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_334","current_reply":"MENU:cmenu_335"} []
[2021-03-01T15:46:57.322000+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759595546148","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":71,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606413,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-4860610535761991890","data":"id_76754"},"message":null} []
[2021-03-01T15:46:57.324637+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:57.327015+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:46:57.327114+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759595546148","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":71,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606413,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-4860610535761991890","data":"id_76754"},"message":null,"user_reply":"id_76754"} []
[2021-03-01T15:46:57.380958+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76754"} []
[2021-03-01T15:46:57.381204+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_335"} []
[2021-03-01T15:46:57.460250+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_335","current_reply":"MENU:id_76754"} []
[2021-03-01T15:46:59.126232+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758412091439","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":72,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606417,"photo":[{"file_id":"AgACAgQAAxkDAANIYDzwUUG_qc5zmK4cO86Ih6wD-wwAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAANIYDzwUUG_qc5zmK4cO86Ih6wD-wwAAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–£–≥–æ–ª—å Wugil 25–º–º\n\n–¶–µ–Ω–∞: 400 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76754"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_335"}]]}},"chat_instance":"-4860610535761991890","data":"add_76754"},"message":null} []
[2021-03-01T15:46:59.128265+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:46:59.129811+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T15:46:59.129938+02:00] telegram_menu.INFO: Run function createSelectionButtons {"quantity_of_products":1,"product_id":"76754","button_list":[[{"text":"‚ûñ","callback_data":"minus_1_76754"},{"text":"1 —à—Ç.","callback_data":"number_1_76754"},{"text":"‚ûï","callback_data":"plus_1_76754"}],[{"text":"üÜó","callback_data":"ok_1_76754"}]]} []
[2021-03-01T15:46:59.276952+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:id_76754","current_reply":"DESCRIPTION:add_76754"} []
[2021-03-01T15:47:01.343478+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757292648550","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":73,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606419,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_1_76754"},{"text":"1 —à—Ç.","callback_data":"number_1_76754"},{"text":"‚ûï","callback_data":"plus_1_76754"}],[{"text":"üÜó","callback_data":"ok_1_76754"}]]}},"chat_instance":"-4860610535761991890","data":"number_1_76754"},"message":null} []
[2021-03-01T15:47:01.346434+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:47:01.347826+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"selectionQuantityOfProducts","$user_state":"SELECTION_QUANTITY_OF_PRODUCTS"} []
[2021-03-01T15:47:01.347902+02:00] telegram_menu.INFO: Run function createSelectionButtons {"quantity_of_products":"1","product_id":"76754","button_list":[[{"text":"‚ûñ","callback_data":"minus_1_76754"},{"text":"1 —à—Ç.","callback_data":"number_1_76754"},{"text":"‚ûï","callback_data":"plus_1_76754"}],[{"text":"üÜó","callback_data":"ok_1_76754"}]]} []
[2021-03-01T15:47:01.486026+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:add_76754","current_reply":"SELECTION_QUANTITY_OF_PRODUCTS:number_1_76754"} []
[2021-03-01T15:47:02.951781+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756785693858","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":74,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606421,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_1_76754"},{"text":"1 —à—Ç.","callback_data":"number_1_76754"},{"text":"‚ûï","callback_data":"plus_1_76754"}],[{"text":"üÜó","callback_data":"ok_1_76754"}]]}},"chat_instance":"-4860610535761991890","data":"ok_1_76754"},"message":null} []
[2021-03-01T15:47:02.953464+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:47:02.955765+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"selectionQuantityOfProducts","$user_state":"SELECTION_QUANTITY_OF_PRODUCTS"} []
[2021-03-01T15:47:03.021302+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756785693858","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":74,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606421,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_1_76754"},{"text":"1 —à—Ç.","callback_data":"number_1_76754"},{"text":"‚ûï","callback_data":"plus_1_76754"}],[{"text":"üÜó","callback_data":"ok_1_76754"}]]}},"chat_instance":"-4860610535761991890","data":"ok_1_76754"},"message":null,"user_reply":"id_76754"} []
[2021-03-01T15:47:03.078376+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76754"} []
[2021-03-01T15:47:03.078566+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"number_1_76754"} []
[2021-03-01T15:47:03.164941+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"SELECTION_QUANTITY_OF_PRODUCTS:number_1_76754","current_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76754"} []
[2021-03-01T15:47:06.603873+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005756313409144","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":75,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606423,"photo":[{"file_id":"AgACAgQAAxkDAANLYDzwVxWDv-NBweXADuHnwDUoQD4AAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADbQADESYDAAEeBA","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAANLYDzwVxWDv-NBweXADuHnwDUoQD4AAr-rMRu2T4xSEdVhiDwYChOEWjQnXQADAQADAgADeAADDyYDAAEeBA","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–£–≥–æ–ª—å Wugil 25–º–º\n\n–¶–µ–Ω–∞: 400 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76754"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"number_1_76754"}]]}},"chat_instance":"-4860610535761991890","data":"cart_"},"message":null} []
[2021-03-01T15:47:06.605809+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:47:06.607647+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T15:47:06.608936+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"id_76754"} []
[2021-03-01T15:47:06.609016+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76754"}]]} []
[2021-03-01T15:47:06.948251+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76754","current_reply":"DESCRIPTION:cart_"} []
[2021-03-01T15:47:08.549372+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759144226125","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":76,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606426,"photo":[{"file_id":"AgACAgQAAxkDAANMYDzwWj-btSsQGwABxLnMdMBiHYF6AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA20AA4ChAQABHgQ","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAANMYDzwWj-btSsQGwABxLnMdMBiHYF6AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3kAA4GhAQABHgQ","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAANMYDzwWj-btSsQGwABxLnMdMBiHYF6AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3gAA4OhAQABHgQ","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–£–≥–æ–ª—å Wugil 25–º–º - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 400 rub\n\n–ò—Ç–æ–≥–æ: 400 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76754"}]]}},"chat_instance":"-4860610535761991890","data":"ordering_btn"},"message":null} []
[2021-03-01T15:47:08.550478+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:47:08.552222+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:47:08.552382+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005759144226125","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":76,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606426,"photo":[{"file_id":"AgACAgQAAxkDAANMYDzwWj-btSsQGwABxLnMdMBiHYF6AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA20AA4ChAQABHgQ","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAANMYDzwWj-btSsQGwABxLnMdMBiHYF6AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3kAA4GhAQABHgQ","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAANMYDzwWj-btSsQGwABxLnMdMBiHYF6AAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3gAA4OhAQABHgQ","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–£–≥–æ–ª—å Wugil 25–º–º - 1—à—Ç. –Ω–∞ —Å—É–º–º—É 400 rub\n\n–ò—Ç–æ–≥–æ: 400 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"remove_76754"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76754"}]]}},"chat_instance":"-4860610535761991890","data":"ordering_btn"},"message":null,"user_reply":"ordering_btn"} []
[2021-03-01T15:47:08.649565+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:cart_","current_reply":"MENU:ordering_btn"} []
[2021-03-01T15:47:13.617839+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"–ö–∏—Ä–∏–ª–ª"} []
[2021-03-01T15:47:13.618863+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:47:13.621182+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleWaitingUsername","$user_state":"WAITING_USERNAME"} []
[2021-03-01T15:47:13.621264+02:00] telegram.INFO: Run function handleWaitingUsername {"chat_id":342495217,"callback_query":null,"message":"–ö–∏—Ä–∏–ª–ª"} []
[2021-03-01T15:47:13.762750+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:ordering_btn","current_reply":"WAITING_USERNAME:–ö–∏—Ä–∏–ª–ª"} []
[2021-03-01T15:47:20.117979+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":null,"message":"+79992331007"} []
[2021-03-01T15:47:20.119961+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:47:20.121545+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleWaitingPhone","$user_state":"WAITING_PHONE_NUMBER"} []
[2021-03-01T15:47:20.121646+02:00] telegram.INFO: Run function handleWaitingPhone {"chat_id":342495217,"callback_query":null,"message":"+79992331007"} []
[2021-03-01T15:47:20.260619+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"WAITING_USERNAME:–ö–∏—Ä–∏–ª–ª","current_reply":"WAITING_PHONE_NUMBER:+79992331007"} []
[2021-03-01T15:47:23.571502+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005757633712649","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":81,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606440,"text":"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –í–∞–º–∏ –¥–∞–Ω–Ω—ã–µ.\n–í–∞—à–µ –∏–º—è: –ö–∏—Ä–∏–ª–ª\n–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: +79992331007","entities":[{"offset":70,"length":12,"type":"phone_number"}],"reply_markup":{"inline_keyboard":[[{"text":"–í—Å—ë –≤–µ—Ä–Ω–æ","callback_data":"yes_"}],[{"text":"–î–∞–Ω–Ω—ã–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã","callback_data":"no_"}]]}},"chat_instance":"-4860610535761991890","data":"yes_"},"message":null} []
[2021-03-01T15:47:23.573548+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:47:23.575787+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleConfirmPersonalData","$user_state":"HANDLE_CONFIRM_PERSONAL_DATA"} []
[2021-03-01T15:47:23.575900+02:00] telegram.DEBUG: Run function handleConfirmPersonalData {"user_reply":"yes_","type":"yes"} []
[2021-03-01T15:47:23.579240+02:00] telegram.DEBUG: deleteProductInCart {"log":"DELETE FROM `products_in_cart` WHERE `id` = '362'"} []
[2021-03-01T15:47:23.586271+02:00] telegram.DEBUG: Create order 603cf06b8d7301.27736032 {"columns":{"id":"603cf06b8d7301.27736032","user":"603ce64f19fd79.10100029","cart_info":"[{\"id\":\"362\",\"quantity\":\"1\",\"products\":\"76754\",\"cart\":\"603ce8d2b33589.36454330\",\"created_at\":\"2021-03-01 15:47:02\",\"updated_at\":\"2021-03-01 15:47:02\"}]","items":"[{\"id\":\"76754\",\"ms_id\":\"b1278ab5-3c4c-11ea-0a80-025c0008eb74\",\"article\":null,\"ms_code\":\"01669\",\"barcode\":\"2000000018867\",\"name\":\"\\u0423\\u0433\\u043e\\u043b\\u044c Wugil 25\\u043c\\u043c\",\"description\":\"\",\"image\":\"https:\\/\\/i.spey.ru\\/saas\\/shopbot_prod\\/data\\/images\\/no-image.jpg\",\"category_id\":\"10556\",\"to_telegram\":\"1\",\"app_info_id\":\"235\",\"quantity\":\"128\",\"type\":\"product\",\"parent_ms_id\":\"1\",\"created_at\":\"2021-03-01 15:31:22\",\"updated_at\":\"2021-03-01 15:31:22\"}]","ms_name":1,"app_info_id":"235"}} []
[2021-03-01T15:47:25.828517+02:00] telegram.DEBUG: Sync order {"response":""} []
[2021-03-01T15:47:26.001904+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"WAITING_PHONE_NUMBER:+79992331007","current_reply":"HANDLE_CONFIRM_PERSONAL_DATA:yes_"} []
[2021-03-01T15:47:26.029156+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758521291756","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":81,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606440,"text":"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –í–∞–º–∏ –¥–∞–Ω–Ω—ã–µ.\n–í–∞—à–µ –∏–º—è: –ö–∏—Ä–∏–ª–ª\n–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: +79992331007","entities":[{"offset":70,"length":12,"type":"phone_number"}],"reply_markup":{"inline_keyboard":[[{"text":"–í—Å—ë –≤–µ—Ä–Ω–æ","callback_data":"yes_"}],[{"text":"–î–∞–Ω–Ω—ã–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã","callback_data":"no_"}]]}},"chat_instance":"-4860610535761991890","data":"yes_"},"message":null} []
[2021-03-01T15:47:26.032598+02:00] telegram.DEBUG: get state {"chat_id":342495217} []
[2021-03-01T15:47:26.034528+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T15:47:26.034710+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":342495217,"callback_query":{"id":"1471005758521291756","from":{"id":342495217,"is_bot":false,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","language_code":"ru"},"message":{"message_id":81,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":342495217,"first_name":"Only","last_name":"Kirill","username":"onemorekirill","type":"private"},"date":1614606440,"text":"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –í–∞–º–∏ –¥–∞–Ω–Ω—ã–µ.\n–í–∞—à–µ –∏–º—è: –ö–∏—Ä–∏–ª–ª\n–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: +79992331007","entities":[{"offset":70,"length":12,"type":"phone_number"}],"reply_markup":{"inline_keyboard":[[{"text":"–í—Å—ë –≤–µ—Ä–Ω–æ","callback_data":"yes_"}],[{"text":"–î–∞–Ω–Ω—ã–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã","callback_data":"no_"}]]}},"chat_instance":"-4860610535761991890","data":"yes_"},"message":null,"user_reply":"yes_"} []
[2021-03-01T15:47:26.169132+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"HANDLE_CONFIRM_PERSONAL_DATA:yes_","current_reply":"MENU:yes_"} []
[2021-03-01T16:56:55.745221+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":null,"message":"/start"} []
[2021-03-01T16:56:55.746814+02:00] telegram.DEBUG: Run function createUser {"ch_id":1634556,"app_info_id":"235"} []
[2021-03-01T16:56:55.747923+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"users","data":{"id":"603d00b7b696c8.47240314","chat_id":1634556,"state":"MENU","app_info_id":"235"},"where":{"chat_id":1634556,"app_info_id":"235"}} []
[2021-03-01T16:56:55.751895+02:00] telegram.ERROR: Create user failed {"dbError":["00000",null,null],"dbLog":["INSERT INTO `users` (`id`, `chat_id`, `state`, `app_info_id`) VALUES ('603d00b7b696c8.47240314', 1634556, 'MENU', '235')"]} []
[2021-03-01T16:56:55.757849+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"cart","data":{"id":"603d00b7b903b5.27427697","user":"603d00b7b696c8.47240314"},"where":{"user":"603d00b7b696c8.47240314"}} []
[2021-03-01T16:56:55.764028+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:56:55.764152+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":null,"message":"/start","user_reply":"/start"} []
[2021-03-01T16:56:55.936888+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":null,"current_reply":"MENU:/start"} []
[2021-03-01T16:57:03.533759+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020368652675801","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":85,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610615,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_331"},"message":null} []
[2021-03-01T16:57:03.538810+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:03.541680+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:03.541783+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020368652675801","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":85,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610615,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_331"},"message":null,"user_reply":"cmenu_331"} []
[2021-03-01T16:57:03.541958+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_331"} []
[2021-03-01T16:57:03.673904+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"start_"} []
[2021-03-01T16:57:03.916271+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:/start","current_reply":"MENU:cmenu_331"} []
[2021-03-01T16:57:06.688055+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020366355064312","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":86,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610623,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_334"},"message":null} []
[2021-03-01T16:57:06.691637+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:06.694369+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:06.694602+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020366355064312","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":86,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610623,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"start_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_334"},"message":null,"user_reply":"cmenu_334"} []
[2021-03-01T16:57:06.694904+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_334"} []
[2021-03-01T16:57:06.850617+02:00] telegram.DEBUG:  {"$_child":[{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"},{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}]} []
[2021-03-01T16:57:06.850903+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10474"} []
[2021-03-01T16:57:06.851046+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T16:57:06.851138+02:00] telegram_menu.DEBUG:  {"$item":{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"}} []
[2021-03-01T16:57:06.851251+02:00] telegram_menu.DEBUG:  {"$item":{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}} []
[2021-03-01T16:57:06.851433+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_331_"} []
[2021-03-01T16:57:07.052690+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_331","current_reply":"MENU:cmenu_334"} []
[2021-03-01T16:57:09.090686+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020364726551408","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":87,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610626,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_335"},"message":null} []
[2021-03-01T16:57:09.094558+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:09.096810+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:09.096937+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020364726551408","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":87,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610626,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_335"},"message":null,"user_reply":"cmenu_335"} []
[2021-03-01T16:57:09.097280+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_335"} []
[2021-03-01T16:57:09.155894+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10556"} []
[2021-03-01T16:57:09.156090+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":1,"category_id":"10556","product_name":""} []
[2021-03-01T16:57:09.156922+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10556' ORDER BY `name` DESC LIMIT 5 OFFSET 0"]} []
[2021-03-01T16:57:09.156996+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76754","ms_id":"b1278ab5-3c4c-11ea-0a80-025c0008eb74","article":null,"ms_code":"01669","barcode":"2000000018867","name":"–£–≥–æ–ª—å Wugil 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"128","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76753","ms_id":"8c402e8e-a744-11ea-0a80-0263000c2cd9","article":null,"ms_code":"02317","barcode":"2000000026893","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"2","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76757","ms_id":"eb20e400-d5a2-11e9-0a80-0088000b693e","article":null,"ms_code":"01058","barcode":"4678599753001","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"233","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:26","updated_at":"2021-03-01 15:31:26"},{"id":"76752","ms_id":"0e6c3b43-d5a3-11e9-0a80-03f3000bb73a","article":null,"ms_code":"01059","barcode":"4678599753124","name":"–£–≥–æ–ª—å Nero 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"19","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76755","ms_id":"d53d79f6-700a-11ea-0a80-00210010a59f","article":null,"ms_code":"01916","barcode":"0","name":"–£–≥–æ–ª—å Moyo 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"33","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:23","updated_at":"2021-03-01 15:31:23"}]} []
[2021-03-01T16:57:09.158043+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":6,"page_num":1} []
[2021-03-01T16:57:09.158150+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_334_"} []
[2021-03-01T16:57:09.293172+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_334","current_reply":"MENU:cmenu_335"} []
[2021-03-01T16:57:13.713320+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020366118964206","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":88,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610629,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-6656017101936204925","data":"page_2-10556"},"message":null} []
[2021-03-01T16:57:13.714679+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:13.715833+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:13.715881+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020366118964206","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":88,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610629,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-6656017101936204925","data":"page_2-10556"},"message":null,"user_reply":"page_2-10556"} []
[2021-03-01T16:57:13.715989+02:00] telegram.DEBUG: Page handle {"callback":"2-10556"} []
[2021-03-01T16:57:13.716400+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":"2","category_id":"10556"} []
[2021-03-01T16:57:13.716440+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":"2","category_id":"10556","product_name":""} []
[2021-03-01T16:57:13.717031+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10556' ORDER BY `name` DESC LIMIT 5 OFFSET 5"]} []
[2021-03-01T16:57:13.717070+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76756","ms_id":"e466133c-137a-11ea-0a80-01520011bb91","article":null,"ms_code":"01497","barcode":"8991133000017","name":"–£–≥–æ–ª—å Cocoloco 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"574","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:23","updated_at":"2021-03-01 15:31:23"}]} []
[2021-03-01T16:57:13.717388+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":6,"page_num":2} []
[2021-03-01T16:57:13.851356+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_335","current_reply":"MENU:page_2-10556"} []
[2021-03-01T16:57:15.466724+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020365875233623","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":88,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610629,"edit_date":1614610633,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"id_76756"}],[{"text":"1","callback_data":"page_1-10556"},{"text":"‚ãÖ2‚ãÖ","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}]]}},"chat_instance":"-6656017101936204925","data":"page_1-10556"},"message":null} []
[2021-03-01T16:57:15.468846+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:15.470129+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:15.470232+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020365875233623","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":88,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610629,"edit_date":1614610633,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Cocoloco 25–º–º","callback_data":"id_76756"}],[{"text":"1","callback_data":"page_1-10556"},{"text":"‚ãÖ2‚ãÖ","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}]]}},"chat_instance":"-6656017101936204925","data":"page_1-10556"},"message":null,"user_reply":"page_1-10556"} []
[2021-03-01T16:57:15.470394+02:00] telegram.DEBUG: Page handle {"callback":"1-10556"} []
[2021-03-01T16:57:15.470679+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":"1","category_id":"10556"} []
[2021-03-01T16:57:15.470759+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":"1","category_id":"10556","product_name":""} []
[2021-03-01T16:57:15.471198+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10556' ORDER BY `name` DESC LIMIT 5 OFFSET 0"]} []
[2021-03-01T16:57:15.471267+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76754","ms_id":"b1278ab5-3c4c-11ea-0a80-025c0008eb74","article":null,"ms_code":"01669","barcode":"2000000018867","name":"–£–≥–æ–ª—å Wugil 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"128","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76753","ms_id":"8c402e8e-a744-11ea-0a80-0263000c2cd9","article":null,"ms_code":"02317","barcode":"2000000026893","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"2","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76757","ms_id":"eb20e400-d5a2-11e9-0a80-0088000b693e","article":null,"ms_code":"01058","barcode":"4678599753001","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"233","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:26","updated_at":"2021-03-01 15:31:26"},{"id":"76752","ms_id":"0e6c3b43-d5a3-11e9-0a80-03f3000bb73a","article":null,"ms_code":"01059","barcode":"4678599753124","name":"–£–≥–æ–ª—å Nero 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"19","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76755","ms_id":"d53d79f6-700a-11ea-0a80-00210010a59f","article":null,"ms_code":"01916","barcode":"0","name":"–£–≥–æ–ª—å Moyo 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"33","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:23","updated_at":"2021-03-01 15:31:23"}]} []
[2021-03-01T16:57:15.471779+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":6,"page_num":1} []
[2021-03-01T16:57:15.663242+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:page_2-10556","current_reply":"MENU:page_1-10556"} []
[2021-03-01T16:57:17.293364+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020365639599771","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":88,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610629,"edit_date":1614610635,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}]]}},"chat_instance":"-6656017101936204925","data":"menu_btn"},"message":null} []
[2021-03-01T16:57:17.296699+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:17.299373+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:17.299534+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020365639599771","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":88,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610629,"edit_date":1614610635,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}]]}},"chat_instance":"-6656017101936204925","data":"menu_btn"},"message":null,"user_reply":"menu_btn"} []
[2021-03-01T16:57:17.639009+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:page_1-10556","current_reply":"MENU:menu_btn"} []
[2021-03-01T16:57:19.165017+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020368047205978","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":89,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610637,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_331"},"message":null} []
[2021-03-01T16:57:19.167532+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:19.169071+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:19.169373+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020368047205978","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":89,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610637,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ","reply_markup":{"inline_keyboard":[[{"text":"üìï–ö–∞—Ç–∞–ª–æ–≥","callback_data":"cmenu_331"}],[{"text":"üì¶–î–æ—Å—Ç–∞–≤–∫–∞","callback_data":"cmenu_332"}],[{"text":"‚ùìFAQ","callback_data":"cmenu_333"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_331"},"message":null,"user_reply":"cmenu_331"} []
[2021-03-01T16:57:19.169649+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_331"} []
[2021-03-01T16:57:19.232908+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"menu_btn_"} []
[2021-03-01T16:57:19.354427+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:menu_btn","current_reply":"MENU:cmenu_331"} []
[2021-03-01T16:57:20.618786+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020367474433641","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":90,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610639,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_334"},"message":null} []
[2021-03-01T16:57:20.621788+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:20.623956+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:20.624023+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020367474433641","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":90,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610639,"text":"–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":27,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"‚¨õ –£–≥–æ–ª—å","callback_data":"cmenu_334"}],[{"text":"üîç –ü–æ–∏—Å–∫","callback_data":"search_btn"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"menu_btn_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_334"},"message":null,"user_reply":"cmenu_334"} []
[2021-03-01T16:57:20.624159+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_334"} []
[2021-03-01T16:57:20.685974+02:00] telegram.DEBUG:  {"$_child":[{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"},{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}]} []
[2021-03-01T16:57:20.686270+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10474"} []
[2021-03-01T16:57:20.686372+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T16:57:20.686547+02:00] telegram_menu.DEBUG:  {"$item":{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"}} []
[2021-03-01T16:57:20.686687+02:00] telegram_menu.DEBUG:  {"$item":{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}} []
[2021-03-01T16:57:20.686841+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_331_"} []
[2021-03-01T16:57:20.825671+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_331","current_reply":"MENU:cmenu_334"} []
[2021-03-01T16:57:22.178983+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020368540583639","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":91,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610640,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_336"},"message":null} []
[2021-03-01T16:57:22.181866+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:22.183573+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:22.183711+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020368540583639","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":91,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610640,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_331_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_336"},"message":null,"user_reply":"cmenu_336"} []
[2021-03-01T16:57:22.184013+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_336"} []
[2021-03-01T16:57:22.250028+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10552"} []
[2021-03-01T16:57:22.250186+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T16:57:22.250268+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_334_"} []
[2021-03-01T16:57:22.381261+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_334","current_reply":"MENU:cmenu_336"} []
[2021-03-01T16:57:27.466014+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020367658763852","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":92,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610642,"text":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_334_"},"message":null} []
[2021-03-01T16:57:27.468828+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:27.471439+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:27.471571+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020367658763852","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":92,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610642,"text":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_334_"},"message":null,"user_reply":"cmenu_334_"} []
[2021-03-01T16:57:27.471919+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_334_"} []
[2021-03-01T16:57:27.528021+02:00] telegram.DEBUG:  {"$_child":[{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"},{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}]} []
[2021-03-01T16:57:27.528234+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10474"} []
[2021-03-01T16:57:27.528307+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":0,"page_num":1} []
[2021-03-01T16:57:27.528362+02:00] telegram_menu.DEBUG:  {"$item":{"id":"335","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å(25 –º–º)","message":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10556","url":null,"text":null,"created_at":"2021-03-01 15:30:33","updated_at":"2021-03-01 15:30:33"}} []
[2021-03-01T16:57:27.528485+02:00] telegram_menu.DEBUG:  {"$item":{"id":"336","app_id":"235","display":"1","parent_id":"334","parent_name":null,"name":"–£–≥–æ–ª—å (22 –º–º)","message":"–£–≥–æ–ª—å 22 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","category_id":"10552","url":null,"text":null,"created_at":"2021-03-01 15:31:05","updated_at":"2021-03-01 15:31:05"}} []
[2021-03-01T16:57:27.528621+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_336_"} []
[2021-03-01T16:57:27.637508+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_336","current_reply":"MENU:cmenu_334_"} []
[2021-03-01T16:57:29.275377+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020366745739202","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":93,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610647,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_336_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_335"},"message":null} []
[2021-03-01T16:57:29.277148+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:29.279569+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:29.279643+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020366745739202","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":93,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610647,"text":"–£–≥–æ–ª—å –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":15,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üìÅ  –£–≥–æ–ª—å(25 –º–º)","callback_data":"cmenu_335"}],[{"text":"üìÅ  –£–≥–æ–ª—å (22 –º–º)","callback_data":"cmenu_336"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_336_"}]]}},"chat_instance":"-6656017101936204925","data":"cmenu_335"},"message":null,"user_reply":"cmenu_335"} []
[2021-03-01T16:57:29.279785+02:00] telegram.DEBUG: cmenu callback {"$this->user_reply":"cmenu_335"} []
[2021-03-01T16:57:29.335906+02:00] telegram_menu.INFO: Run function createProductsMenu {"page_num":1,"category_id":"10556"} []
[2021-03-01T16:57:29.336010+02:00] telegram_menu.DEBUG: Run function createProductButtons {"page_number":1,"category_id":"10556","product_name":""} []
[2021-03-01T16:57:29.336247+02:00] telegram.DEBUG: getProductsFromCategory {"log":["SELECT * FROM `products` WHERE `to_telegram` = 1 AND `category_id` = '10556' ORDER BY `name` DESC LIMIT 5 OFFSET 0"]} []
[2021-03-01T16:57:29.336313+02:00] telegram_menu.DEBUG: Create product btns {"products_for_current_page":[{"id":"76754","ms_id":"b1278ab5-3c4c-11ea-0a80-025c0008eb74","article":null,"ms_code":"01669","barcode":"2000000018867","name":"–£–≥–æ–ª—å Wugil 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"128","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76753","ms_id":"8c402e8e-a744-11ea-0a80-0263000c2cd9","article":null,"ms_code":"02317","barcode":"2000000026893","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"2","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76757","ms_id":"eb20e400-d5a2-11e9-0a80-0088000b693e","article":null,"ms_code":"01058","barcode":"4678599753001","name":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"233","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:26","updated_at":"2021-03-01 15:31:26"},{"id":"76752","ms_id":"0e6c3b43-d5a3-11e9-0a80-03f3000bb73a","article":null,"ms_code":"01059","barcode":"4678599753124","name":"–£–≥–æ–ª—å Nero 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"19","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:22","updated_at":"2021-03-01 15:31:22"},{"id":"76755","ms_id":"d53d79f6-700a-11ea-0a80-00210010a59f","article":null,"ms_code":"01916","barcode":"0","name":"–£–≥–æ–ª—å Moyo 25–º–º","description":"","image":"https://i.spey.ru/saas/shopbot_prod/data/images/no-image.jpg","category_id":"10556","to_telegram":"1","app_info_id":"235","quantity":"33","type":"product","parent_ms_id":"1","created_at":"2021-03-01 15:31:23","updated_at":"2021-03-01 15:31:23"}]} []
[2021-03-01T16:57:29.336936+02:00] telegram_menu.INFO: Run function createPagination {"number_of_products":6,"page_num":1} []
[2021-03-01T16:57:29.337040+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_334__"} []
[2021-03-01T16:57:29.479332+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_334_","current_reply":"MENU:cmenu_335"} []
[2021-03-01T16:57:33.488383+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020368029779973","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":94,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610649,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334__"}]]}},"chat_instance":"-6656017101936204925","data":"id_76753"},"message":null} []
[2021-03-01T16:57:33.492054+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:33.494802+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:33.495134+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020368029779973","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":94,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610649,"text":"–£–≥–æ–ª—å 25 –º–º –≤ –Ω–∞–ª–∏—á–∏–∏","entities":[{"offset":0,"length":21,"type":"bold"}],"reply_markup":{"inline_keyboard":[[{"text":"üîó –£–≥–æ–ª—å Wugil 25–º–º","callback_data":"id_76754"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"id_76753"}],[{"text":"üîó –£–≥–æ–ª—å Oasis Premium Coal 25–º–º","callback_data":"id_76757"}],[{"text":"üîó –£–≥–æ–ª—å Nero 25–º–º","callback_data":"id_76752"}],[{"text":"üîó –£–≥–æ–ª—å Moyo 25–º–º","callback_data":"id_76755"}],[{"text":"‚ãÖ1‚ãÖ","callback_data":"page_1-10556"},{"text":"2","callback_data":"page_2-10556"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_334__"}]]}},"chat_instance":"-6656017101936204925","data":"id_76753"},"message":null,"user_reply":"id_76753"} []
[2021-03-01T16:57:33.558200+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76753"} []
[2021-03-01T16:57:33.558371+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"cmenu_335"} []
[2021-03-01T16:57:33.629807+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:cmenu_335","current_reply":"MENU:id_76753"} []
[2021-03-01T16:57:38.399364+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020368186901985","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":95,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610653,"photo":[{"file_id":"AgACAgQAAxkDAANfYD0AAd28iCl2yOTyNHSZ6uompqenAAK_qzEbtk-MUhHVYYg8GAoThFo0J10AAwEAAwIAA20AAxEmAwABHgQ","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAANfYD0AAd28iCl2yOTyNHSZ6uompqenAAK_qzEbtk-MUhHVYYg8GAoThFo0J10AAwEAAwIAA3gAAw8mAwABHgQ","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.\n\n–¶–µ–Ω–∞: 120 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76753"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"cmenu_335"}]]}},"chat_instance":"-6656017101936204925","data":"add_76753"},"message":null} []
[2021-03-01T16:57:38.401212+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:38.403106+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T16:57:38.403212+02:00] telegram_menu.INFO: Run function createSelectionButtons {"quantity_of_products":1,"product_id":"76753","button_list":[[{"text":"‚ûñ","callback_data":"minus_1_76753"},{"text":"1 —à—Ç.","callback_data":"number_1_76753"},{"text":"‚ûï","callback_data":"plus_1_76753"}],[{"text":"üÜó","callback_data":"ok_1_76753"}]]} []
[2021-03-01T16:57:38.591665+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:id_76753","current_reply":"DESCRIPTION:add_76753"} []
[2021-03-01T16:57:41.123621+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020365323028914","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":96,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610658,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_1_76753"},{"text":"1 —à—Ç.","callback_data":"number_1_76753"},{"text":"‚ûï","callback_data":"plus_1_76753"}],[{"text":"üÜó","callback_data":"ok_1_76753"}]]}},"chat_instance":"-6656017101936204925","data":"plus_1_76753"},"message":null} []
[2021-03-01T16:57:41.126810+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:41.129195+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"selectionQuantityOfProducts","$user_state":"SELECTION_QUANTITY_OF_PRODUCTS"} []
[2021-03-01T16:57:41.129317+02:00] telegram_menu.INFO: Run function createSelectionButtons {"quantity_of_products":2,"product_id":"76753","button_list":[[{"text":"‚ûñ","callback_data":"minus_2_76753"},{"text":"2 —à—Ç.","callback_data":"number_2_76753"},{"text":"‚ûï","callback_data":"plus_2_76753"}],[{"text":"üÜó","callback_data":"ok_2_76753"}]]} []
[2021-03-01T16:57:41.229657+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:add_76753","current_reply":"SELECTION_QUANTITY_OF_PRODUCTS:plus_1_76753"} []
[2021-03-01T16:57:42.278148+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020365943995113","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":96,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610658,"edit_date":1614610661,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_2_76753"},{"text":"2 —à—Ç.","callback_data":"number_2_76753"},{"text":"‚ûï","callback_data":"plus_2_76753"}],[{"text":"üÜó","callback_data":"ok_2_76753"}]]}},"chat_instance":"-6656017101936204925","data":"ok_2_76753"},"message":null} []
[2021-03-01T16:57:42.279799+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:42.280811+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"selectionQuantityOfProducts","$user_state":"SELECTION_QUANTITY_OF_PRODUCTS"} []
[2021-03-01T16:57:42.356947+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020365943995113","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":96,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610658,"edit_date":1614610661,"text":"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ","reply_markup":{"inline_keyboard":[[{"text":"‚ûñ","callback_data":"minus_2_76753"},{"text":"2 —à—Ç.","callback_data":"number_2_76753"},{"text":"‚ûï","callback_data":"plus_2_76753"}],[{"text":"üÜó","callback_data":"ok_2_76753"}]]}},"chat_instance":"-6656017101936204925","data":"ok_2_76753"},"message":null,"user_reply":"id_76753"} []
[2021-03-01T16:57:42.418472+02:00] telegram_menu.INFO: Run function getAddButton {"product_id":"76753"} []
[2021-03-01T16:57:42.418591+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"plus_1_76753"} []
[2021-03-01T16:57:42.509281+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"SELECTION_QUANTITY_OF_PRODUCTS:plus_1_76753","current_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76753"} []
[2021-03-01T16:57:46.390979+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020367710423603","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":97,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610662,"photo":[{"file_id":"AgACAgQAAxkDAANhYD0AAeatyHL3PeNwljbHlXdlH3EuAAK_qzEbtk-MUhHVYYg8GAoThFo0J10AAwEAAwIAA20AAxEmAwABHgQ","file_unique_id":"AQADhFo0J10AAxEmAwAB","file_size":2432,"width":320,"height":320},{"file_id":"AgACAgQAAxkDAANhYD0AAeatyHL3PeNwljbHlXdlH3EuAAK_qzEbtk-MUhHVYYg8GAoThFo0J10AAwEAAwIAA3gAAw8mAwABHgQ","file_unique_id":"AQADhFo0J10AAw8mAwAB","file_size":4632,"width":500,"height":500}],"caption":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.\n\n–¶–µ–Ω–∞: 120 rub","reply_markup":{"inline_keyboard":[[{"text":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É","callback_data":"add_76753"}],[{"text":"üõí –ö–æ—Ä–∑–∏–Ω–∞","callback_data":"cart_"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"plus_1_76753"}]]}},"chat_instance":"-6656017101936204925","data":"cart_"},"message":null} []
[2021-03-01T16:57:46.394882+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:46.398256+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleDescription","$user_state":"DESCRIPTION"} []
[2021-03-01T16:57:46.400623+02:00] telegram_menu.INFO: Run function getGoBackButton {"$callback":"id_76753"} []
[2021-03-01T16:57:46.400805+02:00] telegram_menu.INFO: Run function createCartKeyboard {"button_list":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"remove_76753"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76753"}]]} []
[2021-03-01T16:57:46.535123+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"SELECTION_QUANTITY_OF_PRODUCTS:id_76753","current_reply":"DESCRIPTION:cart_"} []
[2021-03-01T16:57:51.089155+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020367560160500","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":98,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610666,"photo":[{"file_id":"AgACAgQAAxkDAANiYD0AAep9iV3OiktQT02NP5FyJmkJAAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA20AA4ChAQABHgQ","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAANiYD0AAep9iV3OiktQT02NP5FyJmkJAAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3kAA4GhAQABHgQ","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAANiYD0AAep9iV3OiktQT02NP5FyJmkJAAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3gAA4OhAQABHgQ","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç. - 2—à—Ç. –Ω–∞ —Å—É–º–º—É 240 rub\n\n–ò—Ç–æ–≥–æ: 240 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"remove_76753"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76753"}]]}},"chat_instance":"-6656017101936204925","data":"ordering_btn"},"message":null} []
[2021-03-01T16:57:51.091596+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:51.093324+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:57:51.093404+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020367560160500","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":98,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610666,"photo":[{"file_id":"AgACAgQAAxkDAANiYD0AAep9iV3OiktQT02NP5FyJmkJAAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA20AA4ChAQABHgQ","file_unique_id":"AQADKmOoGwAEgKEBAAE","file_size":32193,"width":320,"height":294},{"file_id":"AgACAgQAAxkDAANiYD0AAep9iV3OiktQT02NP5FyJmkJAAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3kAA4GhAQABHgQ","file_unique_id":"AQADKmOoGwAEgaEBAAE","file_size":96642,"width":860,"height":789},{"file_id":"AgACAgQAAxkDAANiYD0AAep9iV3OiktQT02NP5FyJmkJAAKuqTEbAAF4NFMX0gz0L_MxySpjqBsABAEAAwIAA3gAA4OhAQABHgQ","file_unique_id":"AQADKmOoGwAEg6EBAAE","file_size":104823,"width":800,"height":734}],"caption":"–£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç. - 2—à—Ç. –Ω–∞ —Å—É–º–º—É 240 rub\n\n–ò—Ç–æ–≥–æ: 240 rub","reply_markup":{"inline_keyboard":[[{"text":"‚ùå –£–¥–∞–ª–∏—Ç—å –£–≥–æ–ª—å Oasis Premium Coal 25–º–º 18—à—Ç.","callback_data":"remove_76753"}],[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}],[{"text":"üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑","callback_data":"ordering_btn"}],[{"text":"‚Ü∂ –ù–∞–∑–∞–¥","callback_data":"id_76753"}]]}},"chat_instance":"-6656017101936204925","data":"ordering_btn"},"message":null,"user_reply":"ordering_btn"} []
[2021-03-01T16:57:51.187472+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"DESCRIPTION:cart_","current_reply":"MENU:ordering_btn"} []
[2021-03-01T16:57:55.680153+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":null,"message":"–ù–∏–∫–æ–ª–∞–π"} []
[2021-03-01T16:57:55.681351+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:57:55.684267+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleWaitingUsername","$user_state":"WAITING_USERNAME"} []
[2021-03-01T16:57:55.684428+02:00] telegram.INFO: Run function handleWaitingUsername {"chat_id":1634556,"callback_query":null,"message":"–ù–∏–∫–æ–ª–∞–π"} []
[2021-03-01T16:57:55.773461+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"MENU:ordering_btn","current_reply":"WAITING_USERNAME:–ù–∏–∫–æ–ª–∞–π"} []
[2021-03-01T16:58:05.956752+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":null,"message":"89260568776"} []
[2021-03-01T16:58:05.958349+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:58:05.960976+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleWaitingPhone","$user_state":"WAITING_PHONE_NUMBER"} []
[2021-03-01T16:58:05.961090+02:00] telegram.INFO: Run function handleWaitingPhone {"chat_id":1634556,"callback_query":null,"message":"89260568776"} []
[2021-03-01T16:58:06.160587+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"WAITING_USERNAME:–ù–∏–∫–æ–ª–∞–π","current_reply":"WAITING_PHONE_NUMBER:89260568776"} []
[2021-03-01T16:58:12.070156+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020365473831909","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":103,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610686,"text":"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –í–∞–º–∏ –¥–∞–Ω–Ω—ã–µ.\n–í–∞—à–µ –∏–º—è: –ù–∏–∫–æ–ª–∞–π\n–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: 89260568776","reply_markup":{"inline_keyboard":[[{"text":"–í—Å—ë –≤–µ—Ä–Ω–æ","callback_data":"yes_"}],[{"text":"–î–∞–Ω–Ω—ã–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã","callback_data":"no_"}]]}},"chat_instance":"-6656017101936204925","data":"yes_"},"message":null} []
[2021-03-01T16:58:12.073617+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:58:12.075558+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleConfirmPersonalData","$user_state":"HANDLE_CONFIRM_PERSONAL_DATA"} []
[2021-03-01T16:58:12.075719+02:00] telegram.DEBUG: Run function handleConfirmPersonalData {"user_reply":"yes_","type":"yes"} []
[2021-03-01T16:58:12.079063+02:00] telegram.DEBUG: deleteProductInCart {"log":"DELETE FROM `products_in_cart` WHERE `id` = '363'"} []
[2021-03-01T16:58:12.082570+02:00] telegram.DEBUG: Create order 603d0104135181.07709312 {"columns":{"id":"603d0104135181.07709312","user":"603d00b7b696c8.47240314","cart_info":"[{\"id\":\"363\",\"quantity\":\"2\",\"products\":\"76753\",\"cart\":\"603d00b7b903b5.27427697\",\"created_at\":\"2021-03-01 16:57:42\",\"updated_at\":\"2021-03-01 16:57:42\"}]","items":"[{\"id\":\"76753\",\"ms_id\":\"8c402e8e-a744-11ea-0a80-0263000c2cd9\",\"article\":null,\"ms_code\":\"02317\",\"barcode\":\"2000000026893\",\"name\":\"\\u0423\\u0433\\u043e\\u043b\\u044c Oasis Premium Coal 25\\u043c\\u043c 18\\u0448\\u0442.\",\"description\":\"\",\"image\":\"https:\\/\\/i.spey.ru\\/saas\\/shopbot_prod\\/data\\/images\\/no-image.jpg\",\"category_id\":\"10556\",\"to_telegram\":\"1\",\"app_info_id\":\"235\",\"quantity\":\"2\",\"type\":\"product\",\"parent_ms_id\":\"1\",\"created_at\":\"2021-03-01 15:31:22\",\"updated_at\":\"2021-03-01 15:31:22\"}]","ms_name":2,"app_info_id":"235"}} []
[2021-03-01T16:58:13.017874+02:00] telegram.DEBUG: Sync order {"response":""} []
[2021-03-01T16:58:13.152295+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"WAITING_PHONE_NUMBER:89260568776","current_reply":"HANDLE_CONFIRM_PERSONAL_DATA:yes_"} []
[2021-03-01T16:58:20.644805+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020366581459507","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":104,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610693,"photo":[{"file_id":"AgACAgQAAxkDAANoYD0BBdCOst56eeHqg2Cozj5a8O0AAiyrMRuwFRxRkebLG-dPKUTQ_D0kXQADAQADAgADbQAD1DIDAAEeBA","file_unique_id":"AQAD0Pw9JF0AA9QyAwAB","file_size":19576,"width":320,"height":227},{"file_id":"AgACAgQAAxkDAANoYD0BBdCOst56eeHqg2Cozj5a8O0AAiyrMRuwFRxRkebLG-dPKUTQ_D0kXQADAQADAgADeAAD1TIDAAEeBA","file_unique_id":"AQAD0Pw9JF0AA9UyAwAB","file_size":65861,"width":800,"height":568},{"file_id":"AgACAgQAAxkDAANoYD0BBdCOst56eeHqg2Cozj5a8O0AAiyrMRuwFRxRkebLG-dPKUTQ_D0kXQADAQADAgADeQAD1jIDAAEeBA","file_unique_id":"AQAD0Pw9JF0AA9YyAwAB","file_size":123099,"width":1280,"height":909},{"file_id":"AgACAgQAAxkDAANoYD0BBdCOst56eeHqg2Cozj5a8O0AAiyrMRuwFRxRkebLG-dPKUTQ_D0kXQADAQADAgADdwAD1zIDAAEeBA","file_unique_id":"AQAD0Pw9JF0AA9cyAwAB","file_size":186516,"width":1726,"height":1226}],"caption":"–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑. –ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç.","reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}]]}},"chat_instance":"-6656017101936204925","data":"menu_btn"},"message":null} []
[2021-03-01T16:58:20.648178+02:00] telegram.DEBUG: get state {"chat_id":1634556} []
[2021-03-01T16:58:20.651574+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T16:58:20.651680+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"d478f7fd-b74f-11e8-9109-f8fc000025fb"},"chat_id":1634556,"callback_query":{"id":"7020366581459507","from":{"id":1634556,"is_bot":false,"first_name":"Nikolaz","username":"nikolaazzz","language_code":"ru"},"message":{"message_id":104,"from":{"id":1688033779,"is_bot":true,"first_name":"Hookah Time Shop","username":"hookahtimeshop_bot"},"chat":{"id":1634556,"first_name":"Nikolaz","username":"nikolaazzz","type":"private"},"date":1614610693,"photo":[{"file_id":"AgACAgQAAxkDAANoYD0BBdCOst56eeHqg2Cozj5a8O0AAiyrMRuwFRxRkebLG-dPKUTQ_D0kXQADAQADAgADbQAD1DIDAAEeBA","file_unique_id":"AQAD0Pw9JF0AA9QyAwAB","file_size":19576,"width":320,"height":227},{"file_id":"AgACAgQAAxkDAANoYD0BBdCOst56eeHqg2Cozj5a8O0AAiyrMRuwFRxRkebLG-dPKUTQ_D0kXQADAQADAgADeAAD1TIDAAEeBA","file_unique_id":"AQAD0Pw9JF0AA9UyAwAB","file_size":65861,"width":800,"height":568},{"file_id":"AgACAgQAAxkDAANoYD0BBdCOst56eeHqg2Cozj5a8O0AAiyrMRuwFRxRkebLG-dPKUTQ_D0kXQADAQADAgADeQAD1jIDAAEeBA","file_unique_id":"AQAD0Pw9JF0AA9YyAwAB","file_size":123099,"width":1280,"height":909},{"file_id":"AgACAgQAAxkDAANoYD0BBdCOst56eeHqg2Cozj5a8O0AAiyrMRuwFRxRkebLG-dPKUTQ_D0kXQADAQADAgADdwAD1zIDAAEeBA","file_unique_id":"AQAD0Pw9JF0AA9cyAwAB","file_size":186516,"width":1726,"height":1226}],"caption":"–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑. –ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç.","reply_markup":{"inline_keyboard":[[{"text":"‚Üª –í –º–µ–Ω—é","callback_data":"menu_btn"}]]}},"chat_instance":"-6656017101936204925","data":"menu_btn"},"message":null,"user_reply":"menu_btn"} []
[2021-03-01T16:58:20.843443+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":"HANDLE_CONFIRM_PERSONAL_DATA:yes_","current_reply":"MENU:menu_btn"} []
[2021-03-01T20:48:34.416283+02:00] telegram.INFO: Run function handleUserReply {"GET":{"msacc_id":"aa1ec01a-aaed-11ea-0a80-02e700001544"},"chat_id":954138764,"callback_query":null,"message":"/start"} []
[2021-03-01T20:48:34.417839+02:00] telegram.DEBUG: Run function createUser {"ch_id":954138764,"app_info_id":"114"} []
[2021-03-01T20:48:34.419847+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"users","data":{"id":"603d3702667de5.27750350","chat_id":954138764,"state":"MENU","app_info_id":"114"},"where":{"chat_id":954138764,"app_info_id":"114"}} []
[2021-03-01T20:48:34.424486+02:00] telegram.ERROR: Create user failed {"dbError":["00000",null,null],"dbLog":["INSERT INTO `users` (`id`, `chat_id`, `state`, `app_info_id`) VALUES ('603d3702667de5.27750350', 954138764, 'MENU', '114')"]} []
[2021-03-01T20:48:34.429083+02:00] telegram.DEBUG: Run insertOrUpdate {"table":"cart","data":{"id":"603d370268bfe1.52363047","user":"603d3702667de5.27750350"},"where":{"user":"603d3702667de5.27750350"}} []
[2021-03-01T20:48:34.432360+02:00] telegram.INFO: Do function handleUserReply {"state_handler":"handleMenu","$user_state":"MENU"} []
[2021-03-01T20:48:34.432472+02:00] telegram.INFO: Run function handleMenu {"GET":{"msacc_id":"aa1ec01a-aaed-11ea-0a80-02e700001544"},"chat_id":954138764,"callback_query":null,"message":"/start","user_reply":"/start"} []
[2021-03-01T20:48:34.569118+02:00] telegram.DEBUG: Update user states & reply {"prev_reply":null,"current_reply":"MENU:/start"} []
